\subsection{Explanation of work carried out per Objective}
%List the specific  objectives  for  the  project  as  described  in  section  1.1  of  Part B   and describe  the  work  carried  out  during  the  reporting  period  towards  the  achievement  of  each listed objective. Provide clear and measurable details.
For reference, let us recall the aims of \ODK.
\begin{compactenum}[\bf {Aim} 1\rm]
\item \label{aim:collaboration} Improve the productivity of
  researchers in pure mathematics and applications by promoting
  collaborations based on mathematical \textbf{software},
  \textbf{data}, and \textbf{knowledge}.
\item \label{aim:vre} Make it easy for teams of researchers of any
  size to set up custom, collaborative \emph{Virtual Research
    Environments} tailored to their specific needs, resources and
  workflows. The \VREs should support the entire life-cycle of
  computational work in mathematical research, from initial
  exploration to publication, teaching and outreach.
  % and bridge the gaps between
  % code, published results, and educational material.
\item \label{aim:sharing} Identify and promote best practices in
  computational mathematical research including: making results easily
  reproducible; producing reusable and easily accessible
  software; sharing data in a semantically sound way; exploiting and
  supporting the growing ecosystem of computational tools.
\item \label{aim:impact} Maximise sustainability and impact in
  mathematics, neighbouring fields, and scientific computing.
\end{compactenum}

Those aims are backed up in our proposal by nine objectives; we now
highlight our main contributions during this reporting period toward
achieving each of them.

\begin{compactenum}[\bf {Obj} 1\rm]
\item\label{objective:framework} \textbf{Virtual Research Environment Kit:} ``\emph{To develop and standardise an architecture
    allowing combination of mathematical, data and software components with off-the-shelf
    computing infrastructure to produce specialised \VREs for different communities.}''

  \ednote{@defeo, @minrk: update for RP3: work carried out for Objective 1: Virtual Research Environment Kit}
  This objective is by nature multilevel; achievements include:
  \begin{itemize}
  \item Collaborative workspaces: major \JupyterHub developments,
    see~\longlocaltaskref{UI}{notebook-collab};
  \item User interface level: enabling \Jupyter as uniform interface for all computational
    components; see \longlocaltaskref{UI}{ipython-kernels}.
  \item Interfaces between computational or database components:
    \begin{itemize}
    \item \emph{short term}: refactoring of existing ad-hoc interfaces, see \longlocaltaskref{UI}{pari-python};
    \item \emph{long term}: investigation of patterns to share data, ontologies, and semantics uniformly across components, see \longlocaltaskref{component-architecture}{interface-systems}, and Section~\ref{dksbases} about \WPref{dksbases}, where we report on the ``Math-in-the-Middle'' (MitM) paradigm for semantic system integration and non-trivial mathematical use cases. In RP3, we have added interoperability of mathematical data sets to the mix. 
  \end{itemize}
\end{itemize}

\item\label{objectives:core} \textbf{Core Components:}
  ``\emph{To develop open source core components
  for \VREs where existing software is not suitable. These components
  will support a variety of platforms, including standard cloud
  computing and clusters. This primarily addresses Aim~\ref{aim:vre},
  thereby contributing to Aim \ref{aim:collaboration}
  and~\ref{aim:sharing}.}''
  \ednote{@defeo, @minrk: update for RP3: work carried out for Objective 2: Core Components
    Presumably we need not list nbval, nbdiff, planetaryum anymore}
  At this stage, it has been possible to implement most of the required developments within
  existing components or extensions thereof. New software components includes the tools
  nbmerge, nbdiff and nbval (see \delivref{UI}{jupyter-test} and
  \delivref{UI}{jupyter-collab}), and planetaryum (see \delivref{dissem}{ils-tool}). For the
  Math-in-the-Middle paradigm for semantic system interoperability we have developed
  knowledge-based Mediator based on the MMT system.
  In RP3 we have concentrated on mathematical data sets. We have added a data aspect to \textsf{MathHub.info} which allows dataset authors to semantically  describe data sets and then generate data database schemata, management functionality, and user interfaces from that. 

\item \label{objective:community}
  \textbf{Community Building across Disciplines:}
  ``\emph{To bring together research
    communities (e.g. users of \Jupyter, \Sage, \Singular, and \GAP) to
    symbiotically exploit overlaps in tool creation building efforts,
    avoid duplication of effort in different disciplines, and share best
    practice. This supports Aims~\ref{aim:collaboration},
    \ref{aim:sharing} and~\ref{aim:impact}.}''
  \ednote{@defeo,@minrk, @ClementPernet: update for RP3: key outcomes of dev workshops
    Maybe: conda packaging, continuous integration}

  We have organized or co-organized a dozen users or developers
  workshops (see~\longlocaltaskref{dissem}{devel-workshops}) which brought
  together several communities. Some key outcomes include:
  \begin{itemize}
  \item Enabling \Jupyter as uniform interface for all computational components; see \longlocaltaskref{UI}{ipython-kernels}.
  \item Sharing best practices for development, packaging, building containers (see~\longlocaltaskref{component-architecture}{mod-packaging}), and continuous integration (see~\longlocaltaskref{component-architecture}{portability});
  \item A smooth collaboration between \JupyterHub, \SMC, and \Simulagora; see~\longlocaltaskref{component-architecture}{extract-smc}, \longlocaltaskref{component-architecture}{simulagora-dev} and Section~\ref{infrastructures};
  \item Work on interfaces between systems; see \longlocaltaskref{component-architecture}{interface-systems}, \longlocaltaskref{UI}{mathhub}, and \longlocaltaskref{UI}{pari-python};
    % \item Steps toward \longlocaltaskref{UI}{sage-sphinx}
  \item Sharing of best practices and tools for authoring live structured documents (see~\longlocaltaskref{UI}{structdocs});
  \item Sharing of best practices when using VRE's like \cocalc or \Jupyter for research and education;
  \item Collaboration on interactive visualization \longlocaltaskref{UI}{vis3d}, \longlocaltaskref{UI}{cfd-vis}, \longlocaltaskref{UI}{dynamic-inspect}.
  \item Jump-starting a community on semantically described, interoperable mathematical data sets around \url{data.mathhub.info}. A Math Data workshop (8 Days) in Cernay included external mathematicians and will be continued by external partners in 2020. 
  \end{itemize}

  \ednote{maybe: mention dissemination workshops as well?}

\item \label{objective:updates}
  \textbf{Updates to Mathematical Software Components:}
  ``\emph{Update a range of existing open source
  mathematical software systems for seamless deployment and efficient
  execution within the VRE architecture of objective~\ref{objective:framework}.
  This fulfils part of Aim~\ref{aim:vre}.}''

  \ednote{@defeo, @ClementPernet: update for RP3: work carried out for Objective 4: Updates to Mathematical Software Components}

  Achievements include:
  \begin{itemize}
  \item Continuous efforts of development, release and integration within \Sage
    have been put for
    \begin{itemize}
    \item  the linear algebra computational kernels of LinBox,
      fflas-ffpack and Givaro (Deliverable~\longdelivref{hpc}{LinBox-algo})
    \item the PARI library for computational number theory
      (Deliverable~\longdelivref{hpc}{pari-hpc2} still ongoing)
    \item the GAP software for computational group theory
      (Deliverable~\longdelivref{hpc}{GAP-HPC-report})
    \end{itemize}
  \item Packaging efforts: docker containers (delivered and regularly
    updated), Debian and Conda packages (beta); see
    \longlocaltaskref{component-architecture}{mod-packaging}.
  \item Continued efforts on portability of \Sage and its dependencies
    (see \longlocaltaskref{component-architecture}{portability}, in
    particular \delivref{component-architecture}{portability-cygwin}).
  \item Improved continuous integration and development workflow;
    (see~\longlocaltaskref{component-architecture}{workflow}), and
    \longdelivref{component-architecture}{multiplatform-buildbot}.
  \item Integration of all the relevant mathematical software in the
    uniform \Jupyter user interface, in particular for integration in
    the VRE framework (delivered, ongoing); see
    \longlocaltaskref{UI}{ipython-kernels}.
  \item Ongoing work in \WPref{hpc} to better support HPC in the
    individual mathematical software system and combinations thereof;
    see Section~\ref{hpc}.
  \item The \Sage and \GAP systems have been extended by a persistent memoization package, which allows to cache computational results and even share them between any system that implementes the memoization format; see \longdelivref{dksbases}{persistent-memoization} for details. 
  \item Ongoing work on the MMT system which forms the basis of the \WPref{dksbases}: Work on \taskref{dksbases}{isabelle} has led to a tight integration with the Isabelle theorem prover and a complete revamp of the code for indexing theory morphisms (crucial for the MitM-based integration of VRE components). 
  \end{itemize}

\item \label{objective:sustainable}
  \textbf{A Sustainable Ecosystem of Software Components:}
  ``\emph{Ensure that our ecosystem of
  interoperable open source components is \emph{sustainable} by
  promoting collaborative software development and outsourcing
  development to larger communities whenever suitable. This fulfils
  part of Aims~\ref{aim:sharing} and~\ref{aim:impact}.}''

  \ednote{@defeo: update for RP3: work carried out for Objective 5: A Sustainable Ecosystem of Software Components
    Maybe: Python 3? phasing out of the Sage notebook? Jeroen's PEP to ease introspection and doctools?
  }

  Achievements include:
  \begin{itemize}
  \item Continued work on outsourcing the computational system user
    interfaces by migrating to \Jupyter; see \longlocaltaskref{UI}{ipython-kernels};
  \item Refactoring \Sage's documentation build system to contribute many local developments
    upstream (\Sphinx) \longlocaltaskref{UI}{sage-sphinx};
  \item Outsourcing and contributing upstream as \Python bindings the existing \Sage
    bindings for many computational systems; see \longlocaltaskref{UI}{pari-python}.
  \end{itemize}

\begingroup
\color{gray}
\item \label{objective:social}
  \textbf{Engineering Social Interactions in Open Source \VRE:}

  This objective was the social science research side of
  \WPref{social-aspects}. Following the work plan revisions after
  Reporting Period 1, the manpower originally allocated to this
  objective was reallocated to other objectives. There thus was no new
  achievements in Reporting Period 2 and 3.

\endgroup

\item \label{objective:data}
  \textbf{Next Generation Mathematical Databases:}
  ``\emph{Identify and extend ontologies and
  standards to facilitate safe and efficient storage, reuse,
  interoperation and sharing of rich mathematical data whilst taking
  account of provenance and citability. This fulfills parts of
  Aims~\ref{aim:vre} and~\ref{aim:sharing}.}''

  This objective is at the core of \WPref{dksbases}; see Section~\ref{dksbases} for details.
  In the first two reporting periods \WPref{dksbases} has developed the Math-in-the-Middle ontology that acts as the pivot point mediating between system languages in the MitM interoperability framework.
  This work has been reported in deliverables \delivref{dksbases}{psfoundation} and \delivref{dksbases}{lfmverif}.

  In the third reporting period the focus of \WPref{dksbases} has been on instantiating the FAIR principles for mathematics (we call the result \textbf{deep FAIR}) and turning mathematical datasets into deep FAIR VRE components.
  This work has been reported in \delivref{dksbases}{nbad-search}.
  The \dmh system, which implements deep FAIR datasets from scratch meets exactly the objectives stated above -- but the system is still very young and needs to attract a critical mass of datasets and community.
  The LMFDB system which has both has been retrofitted with aspects of deep FAIR in \pn, and is much more interoperable than at the start of \pn.
  In parallel, and somewhat dual (lightweight/ad-hoc persistent data caching for mathematical software systems), is the work on \tasktref{dksbases}{data-memo}. Here we have developed a  data memorization format and corresponding memoization packages for \Python (for \Sage) and \GAP.
  These have the potential to lead (by collecting computation results on the side) to informal data sets, which can be semantified later. 

\item \label{objective:demo}
  \textbf{Collaborative Research Environments that Transcend Domains:}
  ``\emph{Demonstrate the effectiveness of Virtual
    Research Environments built on top of \ODK components for a
    number of real-world use cases that traverse domains. This addresses
    part of Aim~\ref{aim:vre} and through documenting best practices in
    reproducible demonstrator documents Aim~\ref{aim:sharing}.}''

  \ednote{@fangohr: update for RP3: work carried out for Objective 8: Collaborative Research Environments that Transcend Domains
    Ubermag's tasks and deliverable
    Shall we mention here other VRE's to illustrate the breath of applications?
    Maybe the interactive text books which cover computer science, biology, physics?
    }

  Most of the work toward this objective is by nature planned for the last period of the \pn
  project. Nevertheless, work has started e.g. toward the OOMMF demonstrator; see
  \longlocaltaskref{dissem}{dissemination-of-oommf-nb-virtual-environment}
  \longlocaltaskref{dissem}{dissemination-of-oommf-nb-workshops},
  \longlocaltaskref{component-architecture}{oommf-python-interface}.

%Long term sustainability
\item \label{objective:disseminate}
  \textbf{Training and Dissemination:}
  ``\emph{Promote and disseminate
    \ODK to the scientific community by active communication,
    workshop organisation, and training in the spirit of open-source
    software. This addresses Aim~\ref{aim:impact}.}''

  \ednote{@Izabela: update number of meetings and workshops}
  This objective is at the core of \WPref{dissem}, with in particular
  more than 30 meetings, developer, training, and community building
  workshops organized during the third reporting period. See
  Section~\ref{dissem} and \longdelivref{dissem}{workshops-4} for
  details.
\end{compactenum}

%%% Local Variables:
%%% mode: latex
%%% mode: visual-line
%%% fill-column: 5000
%%% TeX-master: "report"
%%% End:

%  LocalWords:  compactenum textbf aim:vre emph JupyterHub longtaskref notebook-collab Simulagora mathhub visualization cfd-vis fflas-ffpack Givaro LinBox-algo multiplatform-buildbot nbad-search dmh psfoundation lfmverif
%  LocalWords:  extract-smc Jupyter localtaskref ipython-kernels dksbases WPref dksbases
%  LocalWords:  nbmerge nbdiff nbval delivref delivref jupyter-collab dissem organized
%  LocalWords:  cocalc portability-cygwin hpc taskref citability fulfills
%  LocalWords:  dissemination-of-oommf-nb-virtual-environment oommf-python-interface
%  LocalWords:  dissemination-of-oommf-nb-workshops
