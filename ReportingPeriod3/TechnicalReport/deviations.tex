\section{Deviations from Annex 1}
  % Explain the reasons for deviations from the DoA, the consequences and the proposed
  % corrective actions
\label{section.deviations}

Generally speaking, there was no major deviation to Annex 1. The
deliverables for RP3 were completed on time, and we reached the
objectives and milestones of the project. On the financial side, the
project is claiming 7.16M€\footnote{Numbers in this section are
  indicative, and subject to small adjustments once financial
  statements are final. Nevertheless, their values are precise enough
  for the large grain discussions carried out here.}, that is 94\% of
the maximum grant amount.

Per se, this is a good news: the project was cost effective! Let's
take however the perspective of our communities of users and
developers: running a European project like this one is a major time
investment, in terms of preparation, management, and reporting. For
that same investment, we could have, in principle, taken advantage of
.46M€ of additional resources -- about seven years of Research
Software Engineers -- to support our aims.

Therefore, before discussing the details of the deviations for RP3, we
reflect in the next paragraphs about the deeper causes of this
underspending. First, some facts. At the end RP1, we had claimed
1.95M€, an underspending of 68\% assuming a uniform spending of the
total grant amount. To some point, this was expected: it takes time to
launch a project of this scale and reach full speed, notably due to
the inherently slow process of hiring high profile personnel.
Unforeseen administrative burden (visas, ...) induced additional
delays. But all in all, this shifted work load later into the project,
without impacting the total use of resources.

By the end of RP2, we had claimed 4.7M€. Assuming that the project had
been running at continuous full speed for RP2 and would continue to do
so in RP3, this gave a prevision of 6.5M€ of claimed expenses for the
full duration of the project, that is an underspending of .85\%.

We identified several causes. First, it is standard policy for British
beneficiaries to make conservatively high estimates of their budget to
mitigate potential fluctuations of the conversion rate between the
British pound and the euro. Brexit caused the exchange rate to
actually drop. Second, shortly after the start of OpenDreamKit
\site{KL} had a major grant of the DFG accepted (OSCAR) of which it
was coordinator; major dissemination events that \site{KL} had planned
to fund on OpenDreamKit ended up being funded by the DFG grant. Then
there was the situation at Sheffield/Leeds: not only did they have
recurrent difficulties hiring and keeping staff, but even their PIs
were being hired by the industry for high profile jobs. In fact, we
learned shortly after the review for RP2 that the last remaining PI
was hired himself at NAG, leading Leeds to completely stop its
activities, with an unspent budget of 0.26M€.

Encouraged by the reviewers, we explored venues to shift workload and
resources among partners in order to optimize the use of the remaining
resources toward the objectives of the project. This led to budget
transfers, enabling the organization of many additional dissemination
activities by other beneficiaries to make up for Leeds activity, and
to the addition of a new task in WP6. This was formalized by a 5th
amendment to the grant agreement. These mitigation measures, combined
with \site{KL} contributing financially to our major dissemination
event at CIRM, and with some earlier planned recruitment, enabled the
exploitation of another 0.66M€. It was however too late, 10 months to
the end of the project, for launching additional recruitment to
exploit the remaining 0.46M€ budget.

What lessons did we learn?

Foreseeing events like Brexit is obviously beyond reach. What is
needed is agility. For us, this agility was enabled by loosely coupled
tasks, few critical tasks, and no critical tasks with tiny bus factor.
And by the continuous support from our reviewers and project officers
to explore paths to make the best use of our resources to achieve our
aims.

However enacting the agility necessitates to detect financial
deviations as early as possible to take mitigation measures. With
OpenDreamKit's administrative setup, we had very detailed expenses
information at three points in time: M19, M39 (it should have been
M37), and M49. But we had absolutely no intermediate data point. As
coordinator, it felt like steering a cargo ship in the fog, with
enormous stretches of silence between two sonar pings. Even just with
some gross estimates at M30, we could have acted.

Future projects should explore ways to collect such gross estimates
from time to time, without adding to the administrative burden. Having
regular informal financial reports? Fostering continuous financial
reporting within each site, through more automation of the expense
collection and forecast?

Future projects should also include in their risk management not only
the difficulty of recruiting highly qualified personnel, but also of
keeping such personnel, whether permanent or temporary. As seen in the
risk management section~\ref{section.risk_management}, for a group of this size
the hazards of life will take their toll.

\subsection{Use of resources}

\begin{itemize}
\item As explained above, \site{Leeds} early shut down released about
  250k€ of budget for use in other sites.
\item \site{PS} overspent by 150k€ in RP3 (115\%, 105k€ formalized in
  the 5th amendment), for the organization of many additional events,
  a higher involvement in several other tasks, and also to claim costs
  for the much higher involvement of the coordinator than was
  originally planned (about 20PM instead of 12PM).
\item \site{UB} overspent by 79k€ (110\%, 40k€ formalized in the 5th
  amendment) for additional dissemination activities and higher
  involvement than originally planned.
\item \site{UV} overspent by 18k€ (115\%) for higher involvement than
  originally planned, notably in dissemination.
\item \site{UG} underspent by 38k (93\%).
\item \site{LL} underspent by 16k€ (96.3\%).
\item Mostly due to the low rate of change, British sites \site{UO},
  \site{SA}, and \site{UW} underspent respectively by 30k€ and 157k€,
  and 19k€, (90\%, 82\%, 91\%) with only minor deviations to their
  number of PMs. This also caused the underspending of -37k€ of
  \site{USO}+\site{XFEL} (92\%), and contributed to the underspending
  of \site{USH}+\site{LEEDS} (~60\%).
\item As formalized in the 5th amendment \site{FAU} overspent by 18k€
  for \taskref{dksbases}{isabelle}, in the form of a subcontract.
\item As explained earlier, \site{KL} underspent by 135k€ (76\%).
\item \site{UG} overspent by 9.5k€ (16k€ formalized in the 5th
  amendment) due to evolution in their monthly personnel costs.
\item \site{US} underspent by 20k€ (88\%).
\item \site{SR} underspent by 15k€ (97\%).
\item \site{ZH} had underspent by 8k€ (95\%) before shutting down in
  RP2.
\end{itemize}

\subsection{Tasks}

\subsubsection{New Task \tasktref{dksbases}{isabelle}}

The 5th amendment to the grant agreement introduced the new task \taskref{dksbases}{isabelle}.
During the course of the project, it became evident that we should also test the practical coverage of the trifunctional modules, by
transforming an existing, high-profile library of formalized mathematics (in contrast to computational mathematics) into OMDoc/MMT.
We introduced the new task to this end.

It conducted a case study on the Isabelle library.
This task was carried out in collaboration with Dr. Makarius Wenzel, the main developer of Isabelle on a subcontract (as explained below).

\subsection{Deliverables}

\subsubsection{Changed the title of \delivtref{dksbases}{nbad-search}}
The title of this deliverable was originally \emph{Full-text search
  (Formulae + Keywords) in OpenDreamKit}, but in the last grant
proposal amendment the scope was broadened to a report on the
remaining \WPref{dksbases} activities and achievements -- also to
account for the new task \taskref{dksbases}{isabelle}. As the focus of
the last reporting period was on integrating mathematical data, the title was changed to better account for this.

\subsubsection{New Task \tasktref{dksbases}{isabelle}}
The report on this new task is included in Deliverable \delivtref{dksbases}{nbad-search}.

\subsection{Unforeseen subcontracting (if applicable)}
FAU has subcontracted the Isabelle case study (\taskref{dksbases}{isabelle}) to Dr. Makarius Wenzel's company \url{sketis.net}.

Note that the task as a whole was unforeseen --- once the task was added, the decision to subcontract was rather obvious:
Dr. Wenzel is the main developer of Isabelle who has spent the last $\sim 10$ years building the technological prerequisites for such a case study.
There is no alternative way of conducting such a case study since developing the necessary expertise in-house would have been prohibitively expensive (if possible at all).
Because Dr. Wenzel left academia years ago and started his own company
specializing on Isabelle development, the above-mentioned amendment to
the grant agreement included a subcontract for his company.

%%% Local Variables:
%%% mode: latex
%%% mode: visual-line
%%% TeX-master: "report"
%%% End:


%  LocalWords:  WPref hpc WPref dksbases subsubsection delivtref dissem organizing emph
%  LocalWords:  Jupyter emph ipython-kernels psfoundation formalizations WPs taskref
%  LocalWords:  WieKohRab:vtuimkb17,KohMuePfe:kbimss17 visualization stabilized cysignals
%  LocalWords:  cypari parallelization
