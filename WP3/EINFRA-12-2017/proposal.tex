\section{Contact information}
\begin{itemize}
\item Name of applicant: Hans Fangohr
\item E-mail address: fangohr@soton.ac.uk
  \item Organisation: This application is sent under the "umbrella" of the
E-Infra9 project OpenDreamKit. We are proposing a series of services
around the Jupyter (previously IPython) project which can be grouped
as a WorkPackage itself or as tasks according to what the future
E-INFRA12 project consortium will prefer. The legal bodies that would
enter the consortium if this Expression of interest is accepted are:
\begin{itemize}
\item University of Southampton, Highfield, Southamton SO17 1BJ, United Kingdom
\item Simula Research Laboratory AS, Martin Linges VEI 17, Snaroya 1367, Norway
%\item Logilabe (SEM), 104 Boulevard Auguste Blanqui, Paris 75013, France
\end{itemize}
\end{itemize}


\section{Service table}

There is a fast growing open source ecosystem around the
Jupyter [1] technology for interactive data science and scientific computing;
the flagship is the Jupyter notebook: web-based narrative documents mixing live
computations, equations rich texts and medias, interactive visualization, etc.
Although rapidly evolving, this is a mature ecosystem, based on open
and acclaimed technologies (e.g. docker/kubernetes, ...), and already used
by hundreds of thousand of people, as much in academia as the industry.
High profile industrial users of, and contributors to, the Jupyter ecostsystem
include Bloomberg [2] and Microsoft [3].

\begin{tabular}{|p{5cm}|p{9cm}|}
\hline
 & SERVICE OVERVIEW\\
\\\hline
Thematic Service Name&Jupyter e-Infrastructure\\
\\\hline
Service description&Jupyter notebooks are a popular tool for sharing
computational workflows, combining code with narrative description and results,
including graphical output and interactive elements. The Jupyter project
includes a number of services for sharing and running notebooks.
\\\hline
Service provider&Software is developed by the Jupyter project, under the
umbrella of the NumFOCUS foundation. This proposal is to integrate software from
the Jupyter project as services running on EU infrastructure.
\\\hline
Service catalogue&-\\
\\\hline
Value&Enables trivial deployment and sharing of
Jupyter notebooks; fosters dissemination and reproducible research,
and enables and accelerates collaborative compute and data-centric research.
\\\hline
Current TLR&The Jupyter software components
are TRL-8 level, with instances already deployed, and millions of users of the
Jupyter notebook. Some will require
customization or some specific development for integration in the
EGI/EUDAT/INDIGO infrastructure.
\\\hline
Access policy&Wide access.\\
\\\hline
Terms of use&Would be developed as part of the integration work.
\\\hline
\end{tabular}
\newpage
\begin{tabular}{|p{5cm}|p{9cm}|}
User groups and scientific disciplines served&All research
disciplines that require computation or data analysis. The service
will address three main use cases:-
\begin{itemize}
\item Users who wish to reproduce and build upon published
  computatonal workflows.
\item Users who require frictionless access to greater computational
  resources; facilitating migration from Desktop to cloud computing.
\item Educators who wish to provide a user-friendly, stable training
  environment for any subject involving computation or data.
\end{itemize}
\\\hline
Service business model&While some fraction of the service provision would be
reserved to enable free use,  especially for research and education purposes,
users would also have the option to pay for guaranteed computational resources.
In practice, we envisage a model where users choose at the point of access to
wait for available free resources or pay for immediate, dedicated resources.
We anticipate that the service could have considerable value to private business
interests in addition to academic users.
\\\hline
\end{tabular}

\begin{tabular}{|p{2cm}|p{8cm}|p{4cm}|}
&SERVICE ARCHITECTURE&
\\\hline
Name&Description, standards, resource capacity&Provider (if appointed)
\\\hline
EC Binder&Builds a container for a GitHub repository containing
Jupyter notebooks and an environment description (such as a
Dockerfile), then starts a cloud server where the user may interact
with the notebooks.
mybinder encourages the dissemination of methods and reproducible research.
The current Binder service (http://mybinder.org/) is overloaded by the demand,
proving that it has identified just the right service for a critical need. We
hope to provide a similar service to the EC community on a larger scale.&
\\\hline
JupyterHub&Gives authenticated users access to private, persistent Jupyter
notebook servers. See https://jupyterhub.readthedocs.io/ for more details.
JupyterHub allows centralised management of Jupyter notebook servers
for a group of users. For instance, a lecturer may run a JupyterHub instance for
students taking their course, removing the need for students to install software
locally. We plan to provide JupyterHub as a service for EU researchers and
educators, leveraging centralised e-Infrastructure, and to evaluate the access
patterns and infrastructure components which best support it at this scale.&
\\\hline
\end{tabular}

\begin{tabular}{|p{7cm}|p{7cm}|}
&SERVICE INTEGRATION WITH GENERIC E-INFRASTRUCURES
\\\hline
Integration activity and concerned service components&The basis of our proposal involves
enabling large-scale access to this technology for EU researchers and educators
(possibly beyond) by \emph{deploying, hosting, and maintaining} Jupyter
based web services like JupyterHub, tmpnb, or Binder. These would be integrated
with scalable data storage, computational processing resources, and common
authentication mechanisms. On top of this, we wish to develop mechanisms for sharing
and archiving large data sets relevant to the computational narratives stored in
notebooks.
\\\hline
Overall necessary effort (Person-Months) and timeline&60 Person-Months,
provisionally costed at EUR 585k including travel \& equipment budget.
We expect this to run for 36 months, with resources divided between the two
sites.
\\\hline
List of requested service components&Compute, storage, data, authentication.
\\\hline
\end{tabular}
\\\\
\begin{tabular}{|p{7cm}|p{7cm}|}
&Infrastructure integration
\\\hline
Description of infrastructure integration activities relevant to the proposed
thematic service (to be planned in the project)&
We will deploy Jupyter services including JupyterHub, tmpnb and Binder on European
e-Infrastructure, integrating with existing resources and authentication
mechanisms. The Jupyter codebase and existing multi-user orchestration machinery
already developed and deployed are available as an in-kind contribution to
support this project.
\\\hline
\end{tabular}

\begin{tabular}{|p{7cm}|p{7cm}|}
&Training
\\\hline
Description of training activities relevant to the proposed service (to be planned in the project)&
We will provide online documentation and tutorial materials to facilitate
self-directed learning.
Tutorials and workshops will also train researchers and educators how to use the services
most effectively, and we will develop materials from these to allow other experienced
users to conduct training sessions, extending the impact of the training
activities beyond sites that the project participants can attend in person.
Where facilities allow, talks and tutorials will be recorded and made freely
available online to reach a wider audience.
\\\hline
\end{tabular}

\input{simulagora}

\section{Relevance to EINFRA-12 (A) challenges}

% 1. The operation of a federated European data and distributed computing
% infrastructure for research and education communities will optimise the access
% to IT equipment and services

\subsection{Optimising access}

Integrating Jupyter notebooks into the proposed infrastructure would facilitate
access to IT resources for relatively small computational tasks with rapid
feedback to the user, in addition to the large batch jobs which are commonly
run on shared compute resources. In particular, these technologies encourage
open sharing of computational research methods, and reproducing and building on
published work.

% 2. All European researchers and educators are in equal footing to access
% essential resources

\subsection{Equal access across Europe}

Providing these services on pan-European infrastructure, could enable any
European institution to, for instance, teach a course using hosted Jupyter
notebooks, whereas the cost of such an activity may otherwise limit it to richer
institutions.

% Not sure if this is a good thing to mention - we don't have anything to show
% on i18n yet
As part of this proposal, we would like to work on internationalisation within
Jupyter, and provide a framework for people to contribute to translating the
interface into their own language.

% 3. Partnerships with industrial and private partners

\subsection{Industry partnerships}

The Jupyter project already works with a number of industry partners, including
Google, Microsoft, Bloomberg and O'Reilly. Therefore we are used to collaborating
with the private sector and understand their requirements of disclosure, intellectual
property and data security. This proposal would build on these relationships.

% 4. Train people in research and academic organisations

\subsection{Training}

We will provide training in using the service through online tutorials
and documentation, through video walk throughs and recorded
presentations, through attendance and delivery of talks, tutorials and
workshops at conferences that are attended by the communities (for
example from PyCon, SciPy, Supercomputing, ...), through engagement
and direct work with organisations that are likely to act as
multipliers of the knowledge, such as the software carpentry and
Southampton's Centre for Doctoral Training in Next Generation
Computational Modelling. The aim of the training will be to empower
future users to adapt the services to their needs.


% 5. Avoid the locking-in to particular hardware or software platforms

\subsection{Avoiding lock-in}

All of the software involved is not only open source, but built around open
protocols and file formats, allowing for easy interoperation. In particular,
support for multiple programming languages is modular, relying on 'kernels'
which speak a common protocol. Kernels for a wide range of languages have
already been developed outside the Jupyter project, demonstrating the
effectiveness of this modularity.

% 6. More scientific communities will use storage and computing infrastructures
% with state-of-the-art services

\subsection{More scientific communities}

By presenting code in a more appealing format, Jupyter is helping to expand
the use programming beyond traditionally numerical fields, to become more
commonplace among biologists and social scientists, among others. Connecting
this interface to large scale computational resources would allow a diverse set
of communities to tackle interesting problems.

% 7. The open nature of the infrastructure will allow scientists, educators and
% students to improve the service quality

\subsection{Open infrastructure}

All of the Jupyter code is developed in the open, using the popular GitHub
code sharing site. The Jupyter community regularly receives improvements from
people using the software.

\subsection{Incentives, collaboration, innovation capacity, \ldots}
% 8. Increase the incentives for scientific discovery and collaboration across
% disciplinary and geographical boundaries. It will further develop the European
% economic innovation capacity and provide stability to the e-infrastructure.
Jupyter notebooks provide hugely effective communication of all
details of a computing or data centric study, as each notebook is
executable and can (in principle) repeat its study by being
re-executed. As such, each Jupyter Notebook directly supports
collaboration of groups beyond geographic boundaries where
person-to-person meetings to exchange details of a calculation are
difficult to arrange. The notebook increases research effectiveness,
in quantity and quality, and thus naturally accelerates economic
innovation across many disciplines: academic and commercial
communities from high-energy research to the financial sector have
embraced the Notebook as their tool of choice. The emergence of the
notebook as the de-facto standard computing environment is likely to
contribute to stabilising the eco-system of computational tools; an
indication for this demand and emerging standardisation is that
Github.com has already started to provide rendering of notebook files.




\section{Information on innovation, dissemination and exploitation}

The global impact of the services aforehand presented will be of course the
increase of the number of researchers having access and using the deployed
services. The opensource model of the Jupyter project tools will help to reach
out as many researchers as possible and thus will contribute to the realisation
of the European Research Area  (ERA).

\subsection{Innovation}

The services proposed in this document are at TRL (Technology readiness Level) 8,
meaning they are a complete and qualified system. If developers have pushed these
services to that TRL level, they now need integrate these in an operational
environment that is adequate to what end-users need. It is indeed the end-user
pulling the innovation process to bring a technology from a TRL 8 to a TRL 9.
Jupyter project developers can already count on the supervision of the OpenDreamKit
advisory board that is composed of representatives from different disciplines and
sectors. However the expertise that EGI/EUDAT/INDIGO could provide in the frame of
the future EINFRA-12 (A) consortium would be a welcome additional support.

But most importantly the services that are proposed here will enable
end-users to innovate. Jupyter notebooks provide a step change in efficiency in carrying out
computational studies (be it based on data or computation) through
full integration of the following steps into a single document:
assumptions, code/data, results, post-processing, analysis,
visualisation, interpretation and conclusions. This cuts down on the
time required to carry out a full computational study: previously, all
of the above steps had to be carried out using distinct tools and
environments, and eventually put together in a report manually. Such
studies are a core activity in research in most field, including the
development of research roadmaps, exploration of adventurous ideas and
systematic evaluation of computational technologies with lower
TRLs.
The widespread accessibility of Jupyter Notebooks, as proposed
here, fosters innovation through lowering the effort of exploring
innovative ideas and technologies. Also, the affordability and the performance gains
of the opensource services we propose will support research and teaching
work of academics.


\subsection{Dissemination}

Jupyter notebooks are an evolutionary step up from traditional
academic papers.  Whereas traditional papers merely advertise how
computational research was performed, Jupyter notebooks allow the
reader to completely reproduce, critique and build upon it on their
own computational infrastructure.  Combining a narrative description
of the research along with executable code and data, they form
complete research objects that fully encapsulate the research. As
such, they are an unrivaled vehicle for the dissemination of
computational and data-centic methods.

Providing services to host and share notebooks will improve
dissemination at all scales, making it easier for anyone interested in
a result to re-run the analysis, and inspect every single step of the
work (which is often not fully documented in traditional academic
publications).

However in order to foster the dissemination of academic and teaching work within the ERA,
one must plan to disseminate the provided services in order to make them used.
As it was previously said, all the services will remain opensource. Therefore any
institution, academic, student and citizen will be able to freely benefit from the 
Jupyter project services. The first targeted area remains the ERA, however the developed
services can be used worldwide, provided the language barrier is overcome if more effort is
made on the user interface translations.
Trainings, online courses, conferences, workshops will have to be organised along with the
services of the future EGI/EUDAT/INDIGO infrastructure.
We are also willing to publish joint publications along with the future infrastructure
partners in opensource software oriented journals such as th Journal of Open Research
Software (JORS), Transactions on Mathematical Software (TOMS), Journal of Software for
Algebra and Geometry (JSAG), or again Journal of Open Source Software (JOSS).


\subsection{Exploitation}

The Jupyter Notebook accelerates research and impact in two ways: the
quantity of studies we can carry out using notebooks is greater than
without them (see section 'Innovation'), thus providing significant
additional value to any computational and data-centric research
activity. In addition to this quantitative improvement (more research
done per investment), there is also a significant improvement in the
quality of research and dissemination: as the published notebooks
contain every step of the computational study, they can be fully
investigated and exploited by other groups, for example by taking a
published notebook as the starting point of a new study, not having to
spend anytime to reproduce published results at the beginning of a new
project. 

Availability of the access to the notebook thus improves the rate and
quality of research that can be carried out, and is a methodology
improvement to benefit research in all areas, leading to more
effective exploitation of research investment.

\section*{Other pieces to copy/paste}

There is a fast growing open source ecosystem around the Jupyter [1]
technology for interactive data science and scientific computing; the
flagship is the Jupyter notebook: web-based narrative documents mixing
live computations, equations rich texts and medias, interactive
visualization, etc.

Although rapidly evolving, this is a mature ecosystem, based on open
and acclaimed technologies (e.g. docker/kubernetes, ...), and already
used by hundreds of thousand of people, as much in academia as the
industry. High profile industrial users of, and contributors to, the
Jupyter ecostsystem include Bloomberg [2] and Microsoft [3].

\textbf{Aim}

At this stage, a low hanging fruit with high return value would be to
leverage the access to this technology to academics in Europe
(possibly beyond) by *deploying, hosting, and maintaining* Jupyter
based web services like JupyterHub, tmpnb, or mybinder. All of them
are TRL-8 level, with instances already deployed. Some may require
customization or some specific development for integration in the
EGI/EUDAT/INDIGO infrastructure (authentication and data sharing,
container orchestration, ...).

In fact, the need for leveraging the access to such services is so
pressing that we would be very interested in actually starting a
collaboration as soon as possible, without waiting for the application
to be written / accepted.

Some more details are available in our Use Case description [2] we had
presented at the "Design your E-Infrastructure workshop" in Krakow.

\textbf{OpenDreamKit's involvement}

The OpenDreamKit EInfra-9 project aims at fostering a flexible toolbox
from which researchers in computational mathematics can easily build
and deploy VRE's taylored to their specific needs. Jupyter (together
with SageMathCloud) is its backbone for all the collaborative
workspaces, user interfaces, and web-services aspects. OpenDreamKit is
particularly involved in the collaborative, reproducibility, and ease
of deployment features. We effectively have on board many of the
academic sites in Europe involved in the Jupyter project. Since
OpenDreamKit focuses on the software aspects, our actions would
complement each other well with a EInfra-12 (A) proposal.

Like the Jupyter project, OpenDreamKit's spirit is strongly rooted on
a «by users, for users» approach, and our main interest for
participating in the EGI/EUDAT/INDIGO consortium is that we critically
need the outcome.

\subsection{tmpnb}

Description: provides anonymous users with individual, on-demand Jupyter
notebook servers, which are later culled. See https://github.com/jupyter/tmpnb
for more details.

Rationale: tmpnb supports demonstrations and easy experimentation in
Jupyter notebooks.


\subsection{mybinder}

Description: builds a container for a GitHub repository containing
Jupyter notebooks and an environment description (such as a
Dockerfile), then starts a cloud server where the user may interact
with the notebooks. See http://mybinder.org/ for more details.

Rationale: mybinder enables trivial to use deployment and sharing of
Jupyter notebooks; fosters dissemination and reproducible research,
and connects computational resources with interesting use cases.
Its success proves that it has identified just the right service for
a critical need.

Issue: too successful and lacking computational resources

Goal: power up mybinder with additional computational resources to
leverage its use. Option 1: run an alternative instance of mybinder.
Better option: add a button "Run on EGI cloud" on the official
mybinder instance, enabling anyone with appropriate credentials to use
the EGI cloud to run the container.

% Not sure where to put this:
Enable easy sharing of large datasets to be used by notebooks in mybinder. Git
and GitHub, which are used to share notebooks and descriptions of the
environment to run them, are not optimised for large files.

\subsection{jupyterhub}

Description: gives authenticated users access to private, persistent Jupyter
notebook servers. See https://jupyterhub.readthedocs.io/ for more details.

Rationale: JupyterHub allows centralised management of Jupyter notebook servers
for a group of users. For instance, a lecturer may run a JupyterHub instance for
students taking their course, removing the need for students to install software
locally.

Goal: Run an instance of JupyterHub enabling anyone with appropriate
credentials to run jupyter notebooks on the EGI cloud.
