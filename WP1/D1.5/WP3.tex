\subsection{WorkPackage 3:  Component Architecture}
%Explain, task per task, the work carried out in WP during the reporting period giving details of the work carried out by each beneficiary involved.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Overview}

This Work Package focuses on the structure of the components that make
up a mathematical software and their interactions. Such components can
be separate modules inside a unique software, or separate softwares
interacting through library calls and/or through APIs.

The latest reporting period has focused mainly on improving
development workflows and user experience, in particular targeting
notoriously ``difficult'' platforms such as Windows.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\paragraph{Milestones} Helping end users perform computations on
whatever hardware they possess is one of the major goals of
OpenDreamKit, and of WP3 in particular. The only milestone involving
WP3 is

\subparagraph{\longmilestoneref{component-architecture-distribution}}

\emph{“User story: users shall be able to easily install ODK's
    computational components on the three major platforms (Windows,
    Mac, Linux) via their standard distribution channels.”}

  With the completion of
  \longdelivref{component-architecture}{portability-cygwin}, all
  OpenDreamKit components now run on Windows. Packages for the major
  Linux distributions (Debian, Ubuntu, Fedora, Arch, ...) have also
  been available for at least a year, thanks to the efforts of the
  community\footnote{Note that the role of OpenDreamKit is to
    facilitate packaging for Linux distributions, by simplifying
    dependency management and build chains, and keeping up to date
    with dependencies. It is not OpenDreamKit's goal to directly take
    the lead on packaging for the dozens of available distributions,
    as this would not be sustainable. We will keep monitoring the
    status of Linux packages, prioritizing more popular distributions
    such as Ubuntu, and continue our efforts to make our components
    easy to package.}. MacOS binaries are regularly released, albeit
  with the usual hiccups typical of the Apple ecosystem.

  The bulk of the milestone is thus completed, ahead of schedule,
  although there is still work to do, the most important items on the
  agenda being better continuous integration, and support for Python 3
  in SageMath\footnote{Python 3 support is vital for SageMath going
    into the year 2020, when Python 2 will be officially
    deprecated.}. We will focus on these items for the remaining year.
  
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Tasks}

  \paragraph{\longtaskref{component-architecture}{portability}}
  \label{component-architecture@portability}
  The first task of this workpackage is to improve the portability of
  computational components.

  The most challenging target is the Windows platform, and indeed
  SageMath has not had native Window support for years. With the
  completion of
  \longdelivref{component-architecture}{portability-cygwin}, we are
  happy to announce Windows support for SageMath: since version 8.0,
  released in July 2017, a one-click installer based on Cygwin is the
  recommended way to install SageMath on Windows. With this
  deliverable, we achieved Windows support for 100\% of OpenDreamKit's
  components.

  In support of developing and maintaining OpenDreamKit's software on
  all platforms, we have also worked on infrastructures for continuous
  integration. No unique solution was found that could accommodate the
  needs of every project, however, through sharing information and
  experience returns, each of the software projects inside
  OpenDreamKit has managed to put in place the infrastructure better
  suited for its needs, leveraging various popular technologies such
  as Docker, Jenkins, etc. These efforts have been reported in
  \longdelivref{component-architecture}{multiplatform-buildbot}.

  \paragraph{\longtaskref{component-architecture}{interface-systems}}
  \label{component-architecture@interface-systems}
  In this task we investigate patterns to share data, ontologies,
  and semantics across computational systems, possibly connected
  remotely.

  The work concerning this work package was essentially completed in
  Year 1, through
  \href{http://www.symbolic-computing.org/science/index.php/SCSCP}{Symbolic
    Computation Software Composability Protocol (SCSCP)}. All
  subsequent planned work has been moved to WP6.

  
  \paragraph{\longtaskref{component-architecture}{mod-packaging}}
  \label{component-architecture@mod-packaging}
  In this task we investigate best practices for composing, sharing
  and interfacing computational components and data for connected
  mathematical systems.

  The main deliverable in this task is
  \delivref{component-architecture}{sage-distribution}, due in month
  48. Thanks to the joint efforts of OpenDreamKit and of the
  community, SageMath is now available as a Debian package, and
  recently also as a Conda package.

  This task is progressing as planned, and we expect to successfully
  complete it next year.

  \paragraph{\longtaskref{component-architecture}{simulagora-dev}}
  The goal of this task is to deliver every six months a new Simulagora
  VM image containing all the software components released over the
  period.

  To this date, five OpenDreamKit VMs have been released in
  Simulagora. The latest version, released in March 2018,
  showcases virtual desktops available from a web browser and
  collaboration workflows based on ``tools'' that can be described as
  micro web applications that require very little development skills
  to set up, but make it easy to make available complex simulations to
  users.
  
  \paragraph{\longtaskref{component-architecture}{component-for-HPC}}
  Not applicable for this period.

  \paragraph{\longtaskref{component-architecture}{extract-smc}}
  \label{component-architecture@extract-smc}
  Recall \cocalc used to be called \SMC at the beginning of this project.
  This task has been terminated early due to the cancellation of
  \longdelivref{component-architecture}{personal-smc}, achieved by the
  \cocalc developers \emph{before the start of \ODK}.

  The resources planned for this task were diverted to other work
  packages.
  
  \paragraph{\longtaskref{component-architecture}{workflow}}
  This task seeks new ways of accepting contributions to mathematical
  software in a scalable way.

  Deliverable \longdelivref{component-architecture}{smc-trac} was
  considerably reshaped to take into account the recent developments
  in the ecosystem. This caused a one year delay in the delivery.

  Thanks to the work done, the entry barrier for developing SageMath
  has been considerably lowered. It is now possible for users with a
  GitHub or GitLab account to contribute to SageMath without having to
  go through a manual (and slow) registration process, and editing
  documentation is now easier then ever, even for the inexperienced
  user.

  With the delivery of
  \delivref{component-architecture}{smc-trac}, this task is now
  complete.

  \paragraph{\longtaskref{component-architecture}{oommf-python-interface}}
  \label{component-architecture@oommf-python-interface}
  Not applicable for this period.

  
%%% Local Variables:
%%% mode: latex
%%% TeX-master: "report"
%%% End:

%  LocalWords:  subsubsection longmilestoneref emph longdelivref portability-cygwin
%  LocalWords:  prioritizing longtaskref multiplatform-buildbot Composability delivref
%  LocalWords:  simulagora-dev Simulagora extract-smc cocalc personal-smc smc-trac
%  LocalWords:  oommf-python-interface
