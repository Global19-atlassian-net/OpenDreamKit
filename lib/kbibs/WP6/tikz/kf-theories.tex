\documentclass{standalone}
\usepackage[mh]{mikoslides}
\input{localpaths}
\libinput{preamble}
\begin{document}
\begin{tikzpicture}[xscale=2.2,yscale=.9]
  \tikzstyle{withshadow}=[draw,drop shadow={opacity=.5},fill=white]
   \tikzstyle{database} = [cylinder,cylinder uses custom fill,
      cylinder body fill=yellow!50,cylinder end fill=yellow!50,
      shape border rotate=90,
      aspect=0.25,draw]
   \tikzstyle{human} = [red,dashed,thick]
   \tikzstyle{machine} = [green,dashed,thick]

\node[thy] (kec) at (0,3) {EC};
\node[thy,minimum height=.4cm] (kl) at (0,4) {\ldots};

\node[thy] (sec) at (-1,2) {SEC};
\node[thy,minimum height=.4cm] (sl) at (-1,3) {\ldots};

\node[thy] (gec) at (1,2) {GEC};
\node[thy,minimum height=.4cm] (gl) at (1,3) {\ldots};

\node[thy] (lec) at (-.3,1.2) {LEC};
\node[thy,minimum height=.4cm] (ll) at (.3,1.2) {\ldots};

\node (sc) at (-2,4) {SAGE};
\node[draw] (salg) at (-2,3.35) {Algo};
\node[database,dashed] (sdb) at (-2,2.4) {DB?};
\node[draw] (skr) at (-2,1.7) {KR};

\node (gc) at (2,4) {GAP};
\node[draw] (galg) at (2,3.35) {Algo};
\node[database,dashed] (gdb) at (2,2.4) {DB?};
\node[draw] (gkr) at (2,1.7) {KR};

\node (lmfdb) at (0,0) {LMFDB};
\node[database] (ldb) at (1,-.4) {Mongo};
\node[draw] (knowls) at (-1,-.4) {Knowls};

  \begin{pgfonlayer}{background}
    \node[draw,cloud,fit=(sec) (sl),aspect=.4,inner sep=-3pt,withshadow,purple!30] (st) {};
    \node[draw,cloud,fit=(gec) (gl),aspect=.4,inner sep=-4pt,withshadow,purple!30] (gt) {};
    \node[draw,cloud,fit=(kec) (kl),aspect=.4,inner sep=0pt,withshadow,blue!30] (kt) {};
    \node[draw,cloud,fit=(lec) (ll),aspect=2.5,inner sep=-7pt,withshadow,purple!30] (lt) {};
%    \node[draw,cloud,fit=(mf) (compf) (pf) (cf) (sf) (gf),aspect=5,inner
%    sep=-10pt,withshadow,draw] (lt) {};
  \end{pgfonlayer}
\begin{pgfonlayer}{background}
  \node[draw,withshadow,fit=(sc) (skr) (sdb),inner sep=1pt] {};
  \node[draw,withshadow,fit=(gc) (gkr) (gdb),inner sep=1pt] {};
  \node[draw,withshadow,fit=(lmfdb) (ldb) (knowls),inner sep=1pt] {};
\end{pgfonlayer}

\draw[view] (kec) -- (sec);
\draw[view] (kec) -- (gec);
\draw[view] (kec) -- (lec);
\draw[include] (kec) -- (kl);
\draw[include] (gec) -- (gl);
\draw[include] (sec) -- (sl);
\draw[include] (lec) -- (ll);
\draw[view] (kl) -- (sl);
\draw[view] (kl) -- (gl);
\draw[view] (kl) to[bend left=5] (ll);

\draw[human,->] (skr) -- node[above]{\scriptsize edit} (st);
\draw[human,->] (gkr) -- node[above]{\scriptsize edit} (gt);
\draw[human,->] (knowls) -- node[left,near end]{\scriptsize edit} (lt);

\draw[human,->] (st) to[bend left=20] node[below]{\scriptsize refactor} (kt);
\draw[human,->] (gt) to[bend right=20] node[below]{\scriptsize refactor} (kt);
\draw[human,->] (lt) -- node[right]{\scriptsize refactor} (kt);
\end{tikzpicture}
\end{document}
%%% Local Variables: 
%%% mode: latex
%%% TeX-master: t
%%% End: 
