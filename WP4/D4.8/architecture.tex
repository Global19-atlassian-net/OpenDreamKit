\section{Information Architecture}\label{sec:infarch}

\begin{oldpart}{some intro here}
  Documents have Math Objects (encoded in content and presentation MathML)\ednote{the
    former may be in the content commons in the Active Documents Figure} and the documents
  have a context \ednote{The guy from Eindhoven had something about document and user
    context here.~\cite{Verrijzer:cimdpm15} in the context of the MathDox
    system~\cite{mathdox:on}} that explains/binds all symbols in the object. This context
  must be some how represented in the document and has to be transmitted to the
  computation service.
\end{oldpart}

To get a feeling for the situation, consider Figure~\ref{fig:emc-adp} which instantiates
the abstract diagram from Figure~\ref{fig:activedocs} to the situation in our running
example: Einstein's energy/mass equivalence. We have the two parts: the document commons
with (a slightly rephrased fragment of) the document in Figure~\ref{fig:emc2-wikipedia}
on the left upper corner and the content comment on the other side of the dashed line. 

The latter is encoded as an OMDoc/MMT theory graph -- see~\cite{RabKoh:WSMSML13} for
technical details and~\cite{DehKohKon:iop16,ODK-D6.2} for an account of the applications
in the \pn project. All relevant concepts are grouped in named theories (the boxes with
rounded corners), which introduce symbols and their properties e.g. the definition of the
unit Joule in \textsf{energy} or the size of the speed of light in
\textsf{lightspeed}. These theories are connected by theory morphisms -- only inclusions
$S\mmtar{include}T$ which make all declarations (symbols and properties) of $S$ visible in
$T$ -- and give an object-oriented, modular regime of formalizing mathematical knowledte.

\begin{figure}\centering
  {\footnotesize\input{emc-adp}}
  \caption{$E=mc^2$ as an Active Document}\label{fig:emc-adp}
\end{figure}

Documents are marked up in terms of its document, statement, and phrase structure in the
ADP. In particular, we mark up
\begin{enumerate}
\item the sectioning structure -- omitted in our running example, 
\item statements -- the assertion for $E=mc^2$ coincides with the whole document
  \dociconprototype{D} in Figure~\ref{fig:emc-adp}, and
\item the phrase structure -- here declarations are shown as boxes and technical terms as
  dashed boxes.
\end{enumerate}
Finally, the marked up structures in the document commons are cross linked to the content
commons to create \textbf{parallel markup}\footnote{The idea of ``parallel markup'' has
  been pioneered by the MathML format~\cite{CarlisleEd:MathML3:base}, which uses it to
  connect equivalent sub-formulae in presentation and content Markup, and~\cite{Iancu:phd}
  generalizes it to all levels in the OMDoc/MMT setting.} at all levels. We see three
dashed arrows: two connect the technical terms ``Energy'' and ``Mass'' in the dashed boxes
to the corresponding concepts in the content tree and one that connects the whole
declaration ``$c$ is the speed of light'' to the corresponding declaration in the theory
\textsf{ligthspeed}. The dotted arrow on the top of Figure~\ref{fig:emc-adp} represents
still another parallel alignment relation, it is the ``home theory'' relation, which makes
all concepts from a theory -- the \textbf{home theory}; here \textsf{EME} -- in a document
fragment. All parallel markup relations must be refinements of this relation to be
well-justified in OMDoc/MMT.

The crucial observation is that together, the home theory relation, its refinements, and
the document markup give a notion of context for the computation. The (required)
declarations for the local identifiers $E$ and $m$ in \dociconprototype{D}, and the
(optional) declaration for the identifier $c$ inherited form the theory
\textsf{lightspeed} give meaning to $E=mc^2$ and also determine what can be
computed. Instantiating the \emph{variables} (locally declared identifiers) $m$ and $E$
give rise to the computations in Section~\ref{sec:equations}, whereas the ``replacing''
the \emph{constant} (an identifier inherited from a theory) $c$ with a different value the
hypothetical calculations from section~\ref{sec:hyp}. We can even predict the grade of
hypotheticality by the inheritance distance in the content theory graph.

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "report"
%%% End:

%  LocalWords:  sec:infarch oldpart Verrijzer:cimdpm15 mathdox:on fig:emc-adp textsf emph
%  LocalWords:  fig:activedocs fig:emc2-wikipedia RabKoh:WSMSML13 mmtar formalizing
%  LocalWords:  DehKohKon:iop16,ODK-D6.2 centering emc-adp dociconprototype textbf
%  LocalWords:  Iancu:phd ligthspeed sec:equations sec:hyp hypotheticality
