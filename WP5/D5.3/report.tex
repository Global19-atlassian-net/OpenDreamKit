\documentclass{deliverablereport}
\usepackage{hyperref}

\deliverable{hpc}{SGE-jupyter}
\issue{116}
\deliverydate{2016-08-22}
\duedate{2016-08-31 (month 12)}
\def\pn{OpenDreamKit\xspace}

\author{Stuart Mumford, Neil Lawrence \& Mike Croucher}

\begin{document}

\begin{abstract}
It is common for academic High Performance Computing (HPC) clusters to make use of schedulers based on \href{https://en.wikipedia.org/wiki/Oracle_Grid_Engine}{Sun Grid Engine} with \href{https://arc.liv.ac.uk/trac/SGE}{Son of Grid Engine} as one of the most popular. It is used, for example, on the institutional HPC systems in the Universities of Sheffield and Manchester in the UK. It is also used on the regional \href{http://n8hpc.org.uk/}{N8 HPC facility}, a system shared by the 8 most research intensive universities in the North of England. 

In this task, we have developed and demonstrated a Sun Grid Engine notebook spawner for Project Jupyter, allowing users to easily access Jupyter notebooks on HPC clusters directly from the web-browser. This development allows users with no background in High Performance Computing to easily migrate workflows from laptop to HPC cluster, allowing them to access greater resources with no additional training required.

\end{abstract}
\maketitle\vfill
\newpage\tableofcontents\newpage

\section{Demonstration install}

The software developed as a result of this task has been installed on The University of Sheffield's High Performance Computing system and is available to all staff and students there. 

User-facing documentation is available at \url{http://docs.iceberg.shef.ac.uk/en/latest/using-iceberg/accessing/jupyterhub.html}

\section{Technology Overview}

We make use of \href{https://github.com/jupyterhub/jupyterhub}{JupyterHub}, a multi-user proxy server for the Jupyter notebook developed by the Jupyter team.
The JupyterHub is run as a front end to the HPC cluster, allowing users to login and run Jupyter Notebooks and terminals through their web browsers. For a description of the architecture of the JupyterHub see: \url{https://jupyterhub.readthedocs.io/en/latest/howitworks.html}

We have made the following contributions in this area:

\begin{itemize}
\item The Sun Grid Engine (SGE) interface to JupyterHub. Released on Github at \url{https://github.com/cadair/sgespawner}, this extends Jupyter Hub such that it can spawn notebook servers on HPC worker nodes. It does this by interacting with the SGE queuing system.
\item A Jupyter plugin which enables the automatic detection of conda or virtualenv environments as kernels. \url{https://github.com/Cadair/jupyter_environment_kernels}. This allows users of the HPC cluster to install specialised environments in their home directory and subsequently make use of them in the Jupyter notebook on the system.
\item An install of the above software on University of Sheffield's HPC cluster that is now in production use by staff and students there for teaching and research. User-facing documentation is at \url{http://docs.iceberg.shef.ac.uk/en/latest/using-iceberg/accessing/jupyterhub.html}
\end{itemize}

\section{Future Work}
\begin{itemize}
\item Assist other UK sites that make use of Son of Grid Engine to install and document this method of access. Initial sites identified include University of Manchester and the regional N8 HPC cluster in the UK.
\item Make use of the Spawner options form implemented in JupyterHub 0.4 to allow users to specify resources on the system such as memory and number of CPU cores.
\item The current implementation is based on version 0.3 of JupyterHub. An update is necessary to bring it into line with the latest version.
\item Extend the work so that it can be used with other schedulers.
\end{itemize}






\end{document}
