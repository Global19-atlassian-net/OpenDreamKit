\documentclass{deliverablereport}
\title{Periodic Technical Report I (18 Months)}
\author{Luca De Feo, Michael Kohlhase, Min Ragan-Kelley, Dmitrii Pasechnik, Clément
  Pernet, Benoît Pilorget, Viviane Pons, and Nicolas M. Thiéry}

\usepackage[style=alphabetic,backend=biber]{biblatex}
\addbibresource{../../lib/kbibs/kwarcpubs.bib}
\addbibresource{../../lib/kbibs/extpubs.bib}
\addbibresource{../../lib/kbibs/kwarccrossrefs.bib}
\addbibresource{../../lib/kbibs/extcrossrefs.bib}
\addbibresource{../../lib/deliverables.bib}
\addbibresource{../../lib/publications.bib}
%\addbibresource{local.bib}
% temporary fix due to http://tex.stackexchange.com/questions/311426/bibliography-error-use-of-blxbblverbaddi-doesnt-match-its-definition-ve
\makeatletter\def\blx@maxline{77}\makeatother

\begin{document}
\oldmaketitle
\tableofcontents\newpage

\section{Explanation of the work carried out by the beneficiaries and Overview of the progress}

%•	Explain the work carried out during the reporting period in line with the Annex 1 to the Grant Agreement. 
%•	Include an overview of the project results towards the objective of the action in line with the structure of the Annex 1 to the Grant Agreement including summary of deliverables and milestones, and a summary of exploitable results and an explanation about how they can/will be exploited.
%(No page limit per workpackage but report shall be concise and readable. Any duplication should be avoided).

\subsection{Objectives}

%List the specific  objectives  for  the  project  as  described  in  section  1.1  of  Part B   and describe  the  work  carried  out  during  the  reporting  period  towards  the  achievement  of  each listed objective. Provide clear and measurable details.

\subsection{Explanation of the work carried per Work Package}
\subsubsection{Work Package 1: Management}

%Explain, task per task, the work carried out in WP during the reporting period giving details of the work carried out by each beneficiary involved.

The general objectives of Work Package 1 are:

\begin{itemize}
\item{Meeting the objectives of the project within the agreed budget and timeframe and carrying out control of the milestones and deliverables}
\item{Ensure all the risks jeopardising the success of the projects are managed and that the final results are of good quality}
\item{Ensuring the innovation process within the project is fully aligned with the objectives set up in the Grant agreement}
\end{itemize}

\WPref{management} has been divided into three tasks. In the following, progress is reported with respect to these individual tasks.
Key results of WP1 include:

\begin{itemize}
\item{A Consortium Agreement was signed by all partners}
\item{A kickoff meeting and three progress meetings were organised}
\item{\ODK passed the interim review at month 9 with the grade 3/4}
\item{All milestones have been reached and deliverables achieved within the 1st Reporting Period timeframe}
\item{Setting up of a new version of the \ODK website, with a more end-user friendly interface}
\item{Success in the recruitment of highly qualified staff}
\item{Several workshops open to different communities were organised and successful}
\item{An Advisory Board and Quality Review Board were set up to control the quality and the relevance of the software development relative to the end-user needs.}
\end{itemize}

\paragraph{\longtaskref{management}{project-finance-management}}

A consortium agreement was signed
between partners, stating precise rules about topics such as:
responsibilities, governance, access to results and the background
included.  This consortium agreement respects the state of mind of the opensource software communities and does not plan to commercially exploit the Intellectual Property produced in the frame of \ODK.

During the 1st Reporting Period, a kick-off meeting was organised in Orsay, followed by
3 progress meetings at which partners presented status reports, and
the steering committee got together.  The first progress meeting was
organised in St Andrews (January 2016), the second one was located
in Bremen (June 2016), and the last one in Edinburgh (January 2017). The second meeting coincided with the interim project
review, planned at month 9, where deliverables due by then were
presented to the Project Officer and Reviewers. The \ODK\ project was
granted the grade 3 out of 4 for this interim review: ``Good progress
(the project has achieved most of its objectives and technical goals
for the period with relatively minor deviations)''.

As planned in WP1, \site{PS} has been coordinating \ODK.  The \site{PS} relevant administration body, the D.A.R.I. (Direction des Activités de Recherche et de l'Innovation) and its finance service took care of the budget repartition in November-December 2015. The D.A.R.I., with Florence Bougeret, is also leading the Financial Statement of this reporting period. Due to the length of the first reporting period (18 months), the \site{PS} administration had decided to organise an internal and interim
breakdown of costs at the middle of the Reporting Period. This exercise aimed at raising potential questions
from partners early on and to make sure partners do follow the EC
rules for the eligibility of costs. The coordinator is therefore confident that all partners will be able to declare their costs for this Reporting Period.

\site{PS} also lead the amendment number AMD-676541-5 which added to the consortium \site{UG}, and is currently leading the amendment number AMD-676541-13 for the addition of two new sites: Friedrich-Alexander Universität Erlangen-Nürnberg and the new laboratory European XFEL. The addition of these three new partners is due to the moving of key permanent and/or non-permanent researchers who are key personnel for the success of \ODK. A collateral effect is the termination of \site{SO}' participation to the consortium because no relevant staff for \ODK remained in this institution.
\site{UG} has recently agreed to sign this Consortium Agreement
without any modification to it.


Concerning the communication, intern communication tools are explicated in \longdelivref{management}{infrastructure}.
As for external communication the website for the project has been continuously
updated with new content, and virtually all work in progress is openly
accessible on the Internet to external experts and contributors (for
example through open source software on Github). A new version of the website was released on the 15/03/2017. Its end-user friendly interface and content makes it a tool turned towards dissemination rather than internal communication.

 
Furthermore \longdelivref{management}{data-plan1} gave a first version of the management of data produced \ODK. Propositions for the improvement of \delivref{management}{data-plan1}are made in Section 2 of this document. 


\paragraph{\longtaskref{management}{project-quality-management}}


TODO

The Quality Assurance Plan is described in detail in \longdelivref{management}{ipr}. We will describe the main points below.
\site{PS} launched a Quality Review Board which is chaired by Hans Fangohr. The four members of the board have a track record of caring about the quality in software for computational science. This board is responsible for ensuring key deliverables do reach their original goal and that best practice were in the writing process as well as in the innovation production process.
The board will meet after the end of each Reporting Period (RP), and before the Review following that RP.

The other tool enabling \ODK to ensure the quality of the infrastructure is the End-user group that is composed of some members of the Advisory Board (AB). It is composed of seven members:

\begin{itemize}
\item{Lorena Barba from the George Washington University}
\item{Jacques Carette from the McMaster University}
\item{Istvan Csabai from the Eötvös University Budapest}
\item{Françoise Genova from the Observatoire de Strasbourg}
\item{Konrad Hinsen from the Centre de Biophysique Moléculaire}
\item{William Stein, CEO of SageMath Inc.}
\item{Paul Zimmermann from the INRIA}
\end{itemize}

This AB being composed of Academics and/or software developers from different backgrounds, countries and communities, it will be a strong asset to understand the needs of a variety of end-user profiles. This Technical Report for the first Reporting Period will be the first occasion to ask for their feedback on the potential of the VRE and of our strategy to promote its use around the world.
According to the Consortium Agreement, all AB members have signed a Non-Disclosure Agreement with the consortium.

\site{PS} has also been managing risks. In \delivref{management}{ipr} all potential risks were assessed by the Coordinator. The risk concerning the recruitment of highly qualified staff has been globally well managed thanks to a flexible workplan enabling the delay of some tasks or deliverables, and thanks to legal actions taken by the Coordinator to allow key personnel permanent and non-permanent researchers to remain in the Consortium even though their positions changed. The addition of the three partners is representative of these actions.

%+ other risks!!! @Nicolas 

\paragraph{\longtaskref{management}{project-innovation-management}}

\longdelivref{management}{imp1} was produced at month 18 and is mainly focused on: 

\begin{itemize}
\item{The opensource aspect of the innovation produced within \ODK}
\item{The various implementation processes the project is dealing with}
\item{The strategy to match end-users needs with the promoted VRE}.
\end{itemize}

  The second version of the Innovation Management Plan will add content to explain all the
  innovations that the VRE is bringing to end-users. However the opensource approach and
  the "by users for users" development process will not change.  As it was stated above,
  one of the risks for \ODK is to have different groups not forming effective teams. Put
  in other words, having developers of the different pieces of software working solely for
  the benefit of the programme they were initially working on and for. This risk is
  tackled by the Coordinator in order to reach the final goals of the VRE which are the
  unification of opensource tools with overlapping functionality, the simplification of
  the tools for end-users without coding expertise, and the development of user-friendly
  interfaces. For this, the Scientific Coordinator is wilfully pushing for joint
  workshops. Even if it takes time to bend old implementation processes and coding habits,
  more and actions are taken by \ODK participants from different communities to work
  together. More information on joint workshops can be found in the section below.


  \subsubsection{WorkPackage 2}
%Explain, task per task, the work carried out in WP during the reporting period giving details of the work carried out by each beneficiary involved.

  As planned in \longtaskref{dissem}{dissemination-communication} and
  \longtaskref{dissem}{dissemination}, 22 meetings, developer and training workshops have already
  been organized and co-organized by \ODK (including 14 have for year 1 described in \longdelivref{dissem}{workshops-1}) , and complemented by many
  presentations and activities in external events. This include the first Women in Sage workshop in Europe and the
  first major dissemination event of the project (Computational Mathematics with Jupyter in ICMS). This testifies
  of the vibrant activity and energy of the OpenDreamKit participants.
  
  More specifically, we have targeted two specific communities:

\begin{compactitem}
\item The Mathematic community through specific Sage Days.
\item The micro-magnetic community through specific workshops presenting
the \Jupyter and Python interface to the widely used OOMMF \longtaskref{dissem}{dissemination-of-oommf-nb-virtual-environment} (5 workshops so far).
\end{compactitem}  
  

  \ODK\ is also working on its visibility and communication strategy with an active website keeping track of all
  project activities including conferences, workshops, talks, blogposts, press releases, reports, etc.
  
\paragraph{\longtaskref{dissem}{dissemination-communication}}

The \longdelivref{dissem}{press-release-1} was delivered and a page for the \href{https://github.com/OpenDreamKit/OpenDreamKit/blob/master/Communication/eInfra-Booklet/ODK.md}{E-infrastructure booklet} was written jointly by \ODK members. The website has been 
entirely rebuilt to better promote  and centralize project activities. At this date, 
we have 58 posts on our website which correspond to blogposts (14), conferences and workshops (11),
talks (14), and other project communication. The website also keeps track of press releases
and deliverable reports. We have recently added an open-source web analytics system (Piwik) 
to track some basic informations about our visitors.

\paragraph{\longtaskref{dissem}{training-portal}}

Training is a core and transversal aspect of our project. It is carried out 
through interventions and events as we discuss in \longtaskref{dissem}{dissemination} but also
by writing documentation, tutorials (\delivref{dissem}{short-course}), blogposts, etc. All
this communication is centralized on our website. We have created a specific 
page listing the different software which could eventually host training material. Furthermore,
each software has its own tag which links to all related project activities.

\paragraph{\longtaskref{dissem}{devel-workshops}}

Development workshops are a key aspect of OpenDreamKit development model. The aim of these workshops is to bring together developers from the different communities to design and implement some 
of the wanted features. As reported in \longdelivref{dissem}{workshops-1}, we have organized
or co-organized 5 of these workshops during year 1 of the project. Since then, 2 more have happened. The thematics varies
for each event: packaging and portability, Sage and Jupyter, Sage-Gap days, PARI/GP, knowledge representation, etc. To this,
we can add 4 project meetings which we always turn into an occasion for more coding sprints and development
discussions.

\paragraph{\longtaskref{dissem}{tech-review}}

This task has been started during our initial KickOff meeting where we organized a session of short
talk presenting many different technologies (Jupyter, SageMathCloud, Docker, Sphynx, Cython, Pythran, and
many more). Some of them were further developed into \delivref{dissem}{techno}. The goal is to
keep up to date with most recent breakthroughs related to our work in OpenDreamKit. When we felt
it was relevant, we turned part of the document into blogposts on our website gathered under a 
specific tag. At this date, we have published 4 articles and plan on publishing more throughout the
project.

\paragraph{\longtaskref{dissem}{dissemination}}

Dissemination is a key aspect of the success of OpenDreamKit. Indeed, our development is carried
out to help and support mathematical communities. One of the goals is to bring
more users and more developers to the different projects we are involved in. The events
that took place during Year 1 have been reported in \longdelivref{dissem}{workshops-1}, since then, still
more happened.

\begin{compactitem}
\item \textbf{Organization of Sage Days in established mathematical communities.} Sage Days have long been
part of the SageMath tradition. By organizing and supporting Sage Days, OpenDreamKit can stay close
the mathematical community, understand its needs, gather more users and developers, and improve
the over all quality of the software. We have been involved in 5 different such events since the beginning 
of the project.
\item \textbf{Training activities in developing countries.} OpenDreamKit has a long term plan of fostering
a SageMath community in the Mediterranean area where 3 different events where organized (Algeria, Lebanon, and Tunisia) 
and some more are planned in Morocco. We were also present at ECCO 2016 in Columbia and have been invited
to come back for the next conference in 2018. 
\item \textbf{Women in Sage.} OpenDreamKit is concerned with the gender gap in mathematic software development. 
We have organized the first Women in Sage conference in Europe, inviting 20 women to participate to a week of Sage development. We plan at least one other such event during the project. You can read our \href{http://opendreamkit.org/2017/04/06/WomenInSage/}{report} on our website.
\item \textbf{Computational Mathematics with Jupyter.} This was the first event of the 3 main dissemination conferences
planned throughout the project. It gathered a large mathematic community in ICMS, Edinburgh, in collaboration with the CoDiMa project.
\item \textbf{Jupyter Day in Orsay.} This one day training event in Orsay was fully booked shortly after it was announced, testifying of the growing interest of the community for the Jupyter project. It featured demos and talks from experts of the field as well as an afternoon of tutorials. 
\item \textbf{Other training and communication activities.} The participants of OpenDreamKit are very active
in spreading their knowledge and the project news to the different open source
and mathematical communities they belong to. We count 11 talks on the
website. We have been present to many major events: PyCon, EuroScyPy, CICM, ISSAC, CoDiMa school and more. 
\end{compactitem}

\paragraph{\longtaskref{dissem}{project-intro}}

At the occasion of the KickOff Meeting, Viviane Pons presented SageMathCloud: an online solution for collaborative
work on some OpenDreamKit software such as \Sage and \Jupyter. In particular, it offers a basic course management system that appeared to be a very good solution for some of the challenge described in this task. Following this talk, Michael Croucher implemented this solution for many courses at Sheffield university. This system is also used at Paris-Sud. As a result, the first goal of the task was achieved when we delivered \delivref{dissem}{short-course} on how to use SageMathCloud for teaching with OpenDreamKit technologies. 

We are also looking at nbgrader: at Southampton, the Jupyter Notebook and nbgrader were used to support teaching of large (~500 students) and more specialized engineering design teaching modules for students in the first year of their engineering degree programs.

\paragraph{\longtaskref{dissem}{dissemination-of-oommf-nb-virtual-environment}}

We created a GitHub organisation named JOOMMF, where the micro-magnetic VRE code is publicly hosted (\href{https://github.com/joommf}{JOOMMF repo}). For each JOOMMF package we use \href{https://travis-ci.org/joommf/discretisedfield}{continuous integration on Travis CI} where we perform tests and monitor the test coverage, which we then make available on \href{https://codecov.io/}{Codecov}. Documentation for each package consists of APIs (automatically generated from the code) and different tutorials created in Jupyter notebooks. Both of them are tested on Travis CI. Documentation is build and made publicly available on \href{http://discretisedfield.readthedocs.io}{Read the Docs}. After every major milestone, we upload each package to the Python Package Index repository. We encourage the early use of our software and invite for feedback for which we provide several different communication channels: Google group (joommf-news), \href{https://gitter.im/joommf/}{Gitter channel}, \href{https://github.com/joommf/help}{GitHub help repository}, \href{https://twitter.com/joommf}{Twitter account}, and a \href{http://joommf.github.io/}{website}.

\paragraph{\longtaskref{dissem}{dissemination-of-oommf-nb-workshops}}

We had several workshops and tutorials so far where we demonstrated the use of our Micromagnetic VRE, received feedback and feature requests from the community:

\begin{compactitem}
\item two workshops at the 61st Annual Conference on Magnetism and Magnetic Materials in New Orleans,
    LA, USA (2nd and 3rd November 2016).
\item Tutorial at the Deutsche Physikalische Gesellschaft Fruehjahrstagung (Spring Meeting) of the Condensed Matter Section in Dresden, Germany on 19th March 2017.
\item Workshop at the Institute of Physics Magnetism 2017 conference in York, UK on 5th April 2017.
\item Workshop at the IEEE International Magnetics Conference - Intermag 2017, Dublin, Ireland. 24th April 2017.
\end{compactitem}

\paragraph{\longtaskref{dissem}{ibook}}


The first book we committed to deliver is \emph{Linear Algebra (lectures for physicists)} \delivref{dissem}{ibook2}. It is under active development \href{https://github.com/Hadriamit/iODKbook2}{as you can see on its git repo}. Our main issue is now to complete the English version (it already exists in polish). We chose to use Sphinx and the Sagecell plug-in. The remaining books are at earlier stage. They will include some ideas and teaching materials which are developed at the moment.

Moreover, at Southampton, we have started to create interactive notebooks that support teaching of mathematics and computing to engineers. In particular, we have studied the feasibility of converting existing teaching materials (in LaTeX) containing code snippets into interactive notebooks. This is work in progress. We worked together with the Simula team in directing the design of the (NBVAL) software developed in \taskref{UI}{notebook-verification} of the OpenDreamKit project (\delivref{UI}{adcomp}), which addresses one of the questions outlined in this task: How can we facilitate automatic testing of all code examples, plots, etc.

\paragraph{\longtaskref{dissem}{index-librorum-salvificorum}}

We have started to list relevant resources related to the OpenDreamKit project and started discussions
on the best course of action to follow. We are looking closely at the \href{https://oer.geant.org/}{GEANT} 
project to compare it with the \href{http://sageindex.lipn.univ-paris13.fr/}{SageIndex} and understand their
common goals and main differences.

  \subsubsection{WorkPackage 3}
%Explain, task per task, the work carried out in WP during the reporting period giving details of the work carried out by each beneficiary involved.
  The first task of this workpackage is to improve the portability of computational
  components \longtaskref{component-architecture}{portability}. A particular challenge is
  the portability of \Sage\ (and therefore all its dependencies) on Windows, which has
  remained elusive for a decade, despite many efforts of the community. We are happy to
  report that, in particular thanks to months of intensive and expert work by our recruit
  Erik Bray at \site{PS}, this challenge is about to be tackled, almost one year before
  the expected delivery time.

  Task \taskref{component-architecture}{interface-systems} on interfaces between
  mathematical systems is progressing as expected. Experimental work on a semantic
  interface between \GAP and \Sage
  (\delivref{component-architecture}{semantic-interface-sage-gap}, due on month 36) has
  started during the joint GAP-Sage days, and a working prototype is already
  available. The current prototype uses \emph{ad hoc} language mechanisms to transfer the
  semantics from one system to the other; these mechanisms will be replaced with a generic
  API (Application programming Interface) once the MitM (Math-in-the-Middle) approach
  developed in WP6 will be mature enough. Meanwhile, a purely technical piece of the
  puzzle has been already achieved as part of
  \delivref{component-architecture}{scscp-sage}, bringing support for the SCSCP
  protocol\footnote{SCSCP, the
    \href{http://www.symbolic-computing.org/science/index.php/SCSCP}{Symbolic Computation
      Software Composability Protocol} is a web protocol based on OpenMath enabling remote
    procedure calls across computer algebra systems} to the Python ecosystem, and thus to
  \Sage and its subsystems. This is instrumental for supporting the MitM approach.

  After \longdelivref{component-architecture}{virtual-machines} was delivered, a focused
  workshop in March (Sage Days 77) also triggered much work and progress on the packaging
  side (\taskref{component-architecture}{mod-packaging}), both by \ODK participants and
  the community. There is now good hope to have proper packages for \Sage (and its
  dependencies) on the Debian distribution in the coming months, a feature that has been
  desperately longed for for over a decade.  The workshop was also the occasion to clarify
  the modularization, packaging, and distribution needs and challenges. Internal notes on
  the progress made have been taken in the
  \href{https://wiki.sagemath.org/days77/packaging}{\Sage wiki}, and a
  \href{https://groups.google.com/forum/#!forum/sage-packaging}{mailing list specifically
    dedicated to packaging \Sage} has been created.

  Task \longtaskref{component-architecture}{oommf-python-interface} was to
  provide a Python interface to the Object Oriented Micromagnetic Framework
  (OOMMF). This allows to access the capabilities of this package as one
  component of a virtual research environment, together with the existing
  ecosystem of scientific python libraries and tools. The task has been
  completed and the resulting software is available online on
  \href{https://github.com/joommf/oommfc}{github} and through the Python
  packaging index under the name \texttt{oommfc}. The interface has been presented to users in the
  micromagnetic community through our dissemination workshops 
  (\taskref{dissem}{dissemination-of-oommf-nb-virtual-environment}). This task is part of of a
  number of steps towards a virtual research environment for micromagnetic
  simulations (\delivref{dissem}{oommfnb-vre-deliver}).

\subsubsection{WorkPackage 4}
%Explain, task per task, the work carried out in WP during the reporting period giving details of the work carried out by each beneficiary involved.

The objective of WorkPackage 4 is to provide modern, robust, and flexible user interfaces for
computation, supporting real-time sharing, integration with collaborative problem-solving,
multilingual documents, paper writing and publication, links to databases, etc. This work is focused primarily around the \Jupyter project, in the form of:

% TODO: for each item, add links to the relevant tasks / deliverables
\begin{itemize}
    \item Enhancing existing \Jupyter tools
    \item Building new tools in the \Jupyter ecosystem
    \item Improving the use of \ODK projects % projects or components? Maybe integration rather than use?
      in \Jupyter and \Sage environments
    \item Work on Active Documents, which have some goals in common with \Jupyter notebooks
\end{itemize}

% TODO: if possible / meaningful, some words about the overall progress?

\paragraph{\longtaskref{UI}{ipython-kernels}}

The first task for this workpackage is to enable the use of \Jupyter
as uniform notebook interface for the relevant computational
components. \delivref{UI}{ipython-kernels-basic} has been delivered,
providing basic \Jupyter kernels for \GAP, \Pari, \Sage, and
\Singular. They are being further improved in preparation for
\longdelivref{UI}{ipython-kernels}.

\longdelivref{UI}{ipython-kernel-sage} has been delivered, further
enhancing \Sage's \Jupyter integration and preparing for the
systematic transition from the legacy custom-built \Sage notebook
application to \Jupyter in the coming months. Beside all the benefits
of a uniform and actively developed interface for the user,
outsourcing the maintenance of this key but non disciplinary component
will save the \Sage community much needed resources and is an
important step toward the sustainability of \ODK's ecosystem
(Objective 5).

Progress was particularly fast thanks to a very active involvement of
the \Sage community.



\paragraph{\longtaskref{UI}{notebook-collab}}

\longdelivref{UI}{jupyter-collab} has been delivered in the form of a new \Jupyter package, nbdime,
enabling easier collaboration on notebooks via version control systems such as git. This project
was presented at the major Scientific Python conferences SciPy US in July 2016 and EuroSciPy in August 2016,
and has been met with enthusiasm from the scientific Python community for its prospect of solving a
longstanding difficulty in working with notebooks.

The JupyterHub package has received significant updates and further development, specifically a
\emph{Services extension point}, which enables shared workspaces for collaboration, a step on the path
toward real-time collaboration for \delivref{UI}{jupyter-live-collab}.

\paragraph{\longtaskref{UI}{notebook-verification}}

\longdelivref{UI}{jupyter-test} has been delivered in the form of a new Python package, nbval,
which enables testing and verification of existing notebooks via a plugin to the Python testing
framework pytest. nbval integrates with nbdime from \delivref{UI}{jupyter-collab} to deliver
testable, reproducible notebooks via traditional software development testing practices.

% TODO: could mention the relevant ODK objective

\paragraph{\longtaskref{UI}{sage-sphinx}}

% TODO: the wording could probably be improved a bit
As part of the Sage Days 77 workshop, the opportunity was taken to bootstrap the long term work of
\href{https://wiki.sagemath.org/days77/documentation}{refactoring the Sage documentation build
system} for \longdelivref{UI}{sage-sphinx} in collaboration with a Sphinx developer. A great deal
of work has been done toward the goal of sustainability \Sage's vast documentation, including
improving reproducibility of builds, updating contents, and increasing reliance on
community-standard tools instead of less maintainable bespoke
implementations. Improving the maintainability of the \Sage
documentation build system is an important part of ensuring high quality documentation going forward.

% \paragraph{\longtaskref{UI}{dynamic-inspect}} Due M36 (D4.16)

\paragraph{\longtaskref{UI}{structdocs}}

Active structured documents are a common need with many use cases, and has many potential solutions.
Requirements and venues for collaborations were explored through discussions between participants,
in particular at the occasion of \href{https://wiki.sagemath.org/days77/}{Sage Days 77} workshop
(see the \href{https://wiki.sagemath.org/days77/live-structured-documents}{notes}), and June's ODK
meeting in Bremen. The findings were reported in \longdelivref{UI}{adstex}.

In \longdelivref{UI}{adcomp}, We have presented a general framework for in-situ computation in active documents. This is
a contribution towards using mathematical documents -- the traditional form mathematicians
interact with mathematical knowledge and computations -- as a user interface for a
mathematical virtual research environments. This is also a step towards integrating the
two main UI frameworks under investigation in the \ODK project: \Jupyter notebooks and
active documents -- see~\delivref{UI}{adstex} -- at a conceptual level. The system is
prototypical at the moment, but can already be embedded into active documents via a
Javascript framework and is ready for use in the \ODK project. The user interface and \SCSCP
connections are quite fresh and need substantial testing and optimizations.


\paragraph{\longtaskref{UI}{mathhub}}

One of the most prominent features of a virtual research environment (VRE) is a unified user interface. The \ODK approach is to create a mathematical VRE by integrating various pre-existing mathematical software systems. There are two approaches that can serve as a basis for the \ODK UI: computational notebooks and active documents. The former allows for mathematical text around the computation cells of a real-eval-print loop of a mathematical software system and the latter makes semantically annotated documents active.

\MathHub is a portal for active mathematical documents ranging from formal libraries of theorem provers to informal – but rigorous – mathematical documents lightly marked up by preserving LaTeX markup.

As the authoring, maintenance, and curation of theory-structured mathematical ontologies and the transfer of mathematical knowledge via active documents are an important part of the \ODK VRE toolkit, the editing facilities in \MathHub play a great role for the project,
as delivered in \longdelivref{UI}{mathhub-editing}.

\paragraph{\longtaskref{UI}{vis3d}}

The current landscape for 3D visualization in Jupyter has been explored and reported on,
in order to identify where \ODK can best contribute to 3D visualization in the notebook, towards \longdelivref{UI}{vis3d}. There have been many community-led developments in this area, including the ipyvolume and K3D packages, and \ODK will further enhance existing community tools to best serve the needs of the community. In particular, developing tools for unstructured mesh visualization and CFD simulations. The SciViJS tool for interactive visualization in a webbrowser has been developed, and will gain better support for use in \Jupyter, also as part of \delivref{UI}{vis3d}.

% \paragraph{\longtaskref{UI}{cfd-vis}} % M12-36

% \paragraph{\longtaskref{UI}{Sage-display}} % M24, no deliverables

\paragraph{\longtaskref{UI}{oommf-py-ipython-attributes}} % M13-19 

The micromagnetic virtual research environment is hosted in the \Jupyter
Notebook. The computational engine is the (existing) \OOMMF (Object Oriented
MicroMagnetic Framework) which is accessible through the new Python interface
that has been created as part of \ODK  
(\taskref{component-architecture}{oommf-python-interface}). The \Jupyter Notebook allows us to
integrate the problem specification, the execution of the calculation, and the
postprocessing and data representation within a single executable document;
providing a new computational research environment for micromagnetic
simulation that uses the most widely used simulation code. We have enhanced
this environment further by exploiting that the notebook allows objects to
represent themselves in different ways within the notebook. For example,
Python objects that represent mathematical equations in the micromagnetic VRE
appear rendered as \LaTeX{} in the notebook. It allows users to interactively
compose and explore computational models, and to be able to inspect what they
have put together in the language of the scientist (i.e. through equations)
rather than through the language of the computer (i.e. code). The addition of
this representation options does not stop the code from being valid \Python
than can be run outside the notebook. We have also provided a graphical
representation of the mesh and discretisation cell as the appropriate
representation of a finite difference mesh to further assist the effective
communication between code and science user, graphical representation of
vector field objects, and GUI elements for data exploration. We have used dissemination workshops 
to seek feedback from users and to refine interface.

\paragraph{\longtaskref{UI}{pari-python}}

Completing \longdelivref{UI}{pari-python-lib1} happened to be more difficult than
originally planned. The high level of coupling between \Sage internals
and the \Pari interface makes it very delicate to pull the latter out
of the \Sage codebase. Initially planned to be delivered in month 6,
it was only completed in month 16.

The process of making this deliverable possible led to a great amount
of refactoring inside the \Sage project. As summarized in
\href{http://trac.sagemath.org/ticket/20238}{Trac ticket 20238} (see
appendix), it required close to 50 \emph{tickets}, which fell in the
following categories:

\begin{itemize}
\tightlist
\item Moving \Sage's C signalling api to a separate \Python/\Cython
  package called
  \href{https://github.com/sagemath/cysignals}{cysignals}.
\item Decoupling \Sage's \Pari interface from the \emph{coercion
    model}.
\item Upgrading the \Pari interface to the latest upstream version
  (2.8.0).
\item Cleaning up the \Pari interface API, by removing unneeded object
  orientation and external dependencies.
\item Moving the \Pari interface to a separate \Python/\Cython package
  \href{https://github.com/sagemath/cysignals}{cysignals}, depending
  on cysignals.
\end{itemize}

The end results of this work are the packages
\href{https://github.com/sagemath/cysignals}{cysignals} and
\href{https://github.com/sagemath/cypari2}{CyPari2}, both installable
in a pure \Python environment via the standard tool
\texttt{pip}. Starting from version 7.6, installation via \texttt{pip}
is \Sage's default way of providing the \Pari interface.

% TODO: mention work toward the next pari deliverable?

% \paragraph{\longtaskref{UI}{oommf-nb-ve}} M25-28

% \paragraph{\longtaskref{UI}{oommf-tutorial-and-documentation}} M19-25


  \subsubsection{WorkPackage 5}
%Explain, task per task, the work carried out in WP during the reporting period giving details of the work carried out by each beneficiary involved.

  Workpackage 5 is about the development of high performance computing tools in
  mathematical virtual research environments. It is first adressed at the level
  of each kernel library composing the computational tools of the project (\Pari,
  \GAP, \Linbox, \Singular, \MPIR), but the question of interfacing and exposing
  core parallel features to higher level programming interfaces is also
  adressed.
  

  Key results obtained over the period for WorkPackage 5 are the following:
  \begin{compactitem}
  \item A closer integration of \Linbox in \Sage with improved reliability and
    computing efficiency.
  \item A fine grain parallelisation of matrix Fast Fourier Transform code in
    \FLINT, delivering high and scalable performances.
  \item Parallelization of relation  Sieving code in FLINT.
  \item A new super-optimizer for vectorized assembly code and its ouput for
    MPIR: code with improved perfomances.
  \item A MapReduce framework implementation to parallelize huge (out of core) datasets from
    combinatorics presented as recursion trees.
  \item \Cython now relies on \Pythran to compile and vectorize \Numpy code.  
  \end{compactitem}

\paragraph{\longtaskref{hpc}{hpc-pari}}
The generic paralellization engine in the \Pari C-library
has reached its maturity. It is now part of the standard releases of \Pari
and~\delivref{hpc}{pari-hpc1}
will be delivered on time on month 24.

\paragraph{\longtaskref{hpc}{hpc-gap}}

TODO

\paragraph{\longtaskref{hpc}{hpc-linbox}}


As initially scheduled, work on LinBox started in Fall 2016. The design of
a domain specific language (DSL) exposing parallel features through the library
stack up to the \Sage interface (deliverable~\delivref{hpc}{LinBox-DSL}) is
making good progress, and the demonstrator code for matrix inverse over a finite field is under review.

Progress on deliverable~\delivref{hpc}{LinBox-algo} is twofold:
\begin{itemize}
\item Maintenance, and close integration of the Library with \Sage has been
active (\href{https://trac.sagemath.org/ticket/17635}{Ticket \#17635} finally
updates \Sage to LinBox-1.4.2 after a long and technical review process).
\item Several algorithmic innovations have been produced: a new matrix invariant
  for rank profiles~\cite{DumPerSul:fcrpmgbd16}, more efficient
  representation for quasiseparable matrices~\cite{Pernet:cqm16,PerSto:tsegqm17}, and the new developments on
  interactive certificates for the security of large scale distributed
  computations on unsafe
  resources~\cite{DumKalTho:lticmpdsm16,DumLucPer:cftearp17}. These results have or will
  be presented in the main journal of conference venue in the domain:
  ISSAC'16-17 and the Journal of Symbolic computation.
\end{itemize}

  \paragraph{\longtaskref{hpc}{hpc-singular}}

  The \Singular library, for commutative algebra, already has a framework to
  design high level parallel algorithms and handle shared memory safely.
  Yet, a few kernel routines, such as matrix Fast Fourier
  transform, relation  sieving algorithms need a special attention as they have
  to rely on a highly optimized fine grained
  parallelization. Deliverables~\delivref{hpc}{FFT}
  and~\delivref{hpc}{QS-linalg} for this reporting period only deal with these
  kernel routines, in the \FLINT library, a dependency of \Singular.

  Deliverable~\delivref{hpc}{FFT} is a parallelization of the matrix fast
  Fourier transform in two ways: using Open-MP standard for shared memory
  multi-core parallelization on one hand and the SIMD vectorized instructions of
  each core on the other hand. Performance experiments demonstrate the
  effectiveness of the design of thread parallelization, reaching speed-up
  factors up to 3 on 4 cores, and up to 5 on 8 cores, which is remarkable given
  the high memory bandwidth of the kind task considered here. The SIMD
  optimization of the FFT butterfly partly relies on the super-optimizer results
  of Deliverable~\delivref{hpc}{MPIRsuperoptimiser}. Here again, experiments
  demonstrate a strong improvement in practice for the new code produced.

  Deliverable~\delivref{hpc}{QS-linalg} now focuses one major type of
  application of the library: relation sieving for factoring medium sized
  integers. There, use of SIMD optimizations did not provide strong enough
  improvements and the work mostly focused on the thread paralellization of the
  reliation sieving. The resulting code in \FLINT improves over \Pari's
  implementation for lage enough integers (above 170 bits) in sequential already, and benefits
  from a speed-up factor of a about 3 on 4 cores. On the contrary, the
  parallelization of the block Wiedemann algorithm mostly benefitted from SIMD
  optimizations and much less from multithreading.

  \paragraph{\longtaskref{hpc}{hpc-mpir}}

  The \MPIR library is  a core component of many computational mathematics
  software providing highly optimized  basic arithmetic over multiprecision
  integers.
  
  Deliverable~\delivref{hpc}{MPIRsuperoptimiser} is a super-optimizer, performing
  exhaustive search of permutations in a sequence of assembly instructions,
  combined with a fine clock cycle count to elect the most efficient variant.

  The main unexpected obstacle has been to produce a precise clock cycle
  counter, on which to base the benchmarks: recent. Frequency scaling strategies
  of the CPU led to noise in the  measurements, while the real CPU cycle counter
  would require patching a kernel module to allow access in user mode.
  This problem has been solved thanks to the pmu-tools API to the  performance system of the
  Linux kernel.

  Then super-optimizer could reliably produce optimized code for
  the main functions of the MPIR library (multiplication, gcd, and extended gcd)
  on the most common recent vectorized architectures: AMD Bulldozer, Intel
  Skylake and Haswell. Experiments comparing the resulting new routines with the
  current ones, showed a significant improvement in performances in almost all
  cases, thus validating this approach and motivating its application to a
  broader set of routines.

  \paragraph{\longtaskref{hpc}{hpc-combi}}

  The goal of this task is to use combinatorics as a source of challenges to
  experiment on various HPC techniques. In the first
  deliverable~\longdelivref{hpc}{sage-paral-tree}, we successfully implement a
  MapReduce programming model one a large dataset described by a recursion
  tree, which is too big to fit in memory. After chasing around some bug on
  MacOS posix support, the code was integrated in Sage (Trac Ticket 13580) and
  presented at the «journée du groupe de travail LaMHA» at Université Pierre et
  Marie Curie on November the 26th of 2016.

  Since it is written purely in Python, the code doesn't perform well when the
  computation in each node is short. A good technology for handling such
  situations with fine grain parallelism, seems to be the 
  \software{Cilk++} runtime, and we are currently doing experiment which goal is to have a two
  stage parallel computation, where \software{Cilk++} is doing the load balancing on a
  machine (shared memory) and Python the load balancing among machines. As a
  base for our experiment, we are working on a the enumeration of numerical
  monoids; indeed, it is a very challenging problem as the explored recursion
  tree is extremely unbalanced. We currently are able to have a code
  generating and process 50Gio/s on a single 8 core i7 machine. When the
  problem of re-balancing the work among several machines will be solved we
  hope to be able to have throughput higher than 1To/s on a network of machines.

  \paragraph{\longtaskref{hpc}{pythran}}

Mathematical software, such as \Sage, intensively rely on the Python
language for its expressivity. In order to harness most of a CPU computing
efficiency, critical code in such interpreted languages need to be compiled into
C code. This is precisely what \Cython and \Pythran are offering. the former
supports a broad range \Python constructs, while the latter focuses on optimizing
\Numpy constructs for linear algebra.
The purpose of this task is to
\begin{enumerate}
\item\label{pythran:cython} implement a convergence between these two compilers
\item\label{pythran:sage} and expose the new capacity to optimize numpy code to
  the developers and  users of~\Sage.
\end{enumerate}

Concerning target~\ref{pythran:cython}, the delivery of \delivref{hpc}{pythran-sage} successfully implements the
proposed convergence: \Cython is now able to delegate compilation tasks to
\Pythran whenever \Numpy code is detected. In practice, benchmark show that
resulting code executes faster. For instance computing euclidean norm of a large
floating point vector is sped up by a factor of 2.5 without vectorization and
a factor 3.7 with AVX2 vectorization enabled.

As for target~\ref{pythran:sage}, a technical lock is that \Pythran's analysis
of \Python typing used to be too weak to support the breadth of Object Oriented
programming style of \Sage. Deliverable \delivref{hpc}{pythran-typing}
addressed this issue by strongly enhancing \Pythran's type inference system in two ways: first, the compiler now more accurately tracks the identifier
$\leftrightarrow$ value binding, which in turns makes it possible to generate strongly
typed code for a wider class of \Python kernels.  Second, an unsound type checker for
\Pythran has been developed. It provides human-readable error report when a type error is
detected at compile time, when a cryptic internal error was previously reported. Both
algorithms have been extensively detailed in separated blog posts and the resulting
implementation is part of the official \Pythran 0.8.0 release.

Further work on \Pythran's integration to \Sage and the exposition of
parallelism via \software{Cilk++} is still in progress and should be delivered in
\delivref{hpc}{cython-pythran-cilk} at M24.

  \paragraph{\longtaskref{hpc}{hpc-jupyter}}
  
It is common for academic High Performance Computing (HPC) clusters to make
use of schedulers based on Sun Grid Engine with Son of Grid Engine as one of
the most popular. It is used, for example, on the institutional HPC systems
in the Universities of Sheffield and Manchester in the UK. It is also used
on the regional N8 HPC facility, a system shared by the 8 most research
intensive universities in the North of England.

In deliverable~\delivref{hpc}{SGE-jupyter}, we have developed and demonstrated a Sun Grid Engine
notebook spawner for Project Jupyter, allowing users to easily access
Jupyter notebooks on HPC clusters directly from the web-browser. This
development allows users with no background in High Performance Computing to
easily migrate workflows from laptop to HPC cluster, allowing them to access
greater resources with no additional training required.
  
  \subsubsection{WorkPackage 6}
%Explain, task per task, the work carried out in WP during the reporting period giving details of the work carried out by each beneficiary involved.
  In a series of workshops (September 2015 in Paris, January 2016 in St. Andrews, June
  2016 in Bremen, and July 2016 in Bia{\l}ystok) the participants working on
  \WPref{dksbases} met and discussed the topic of integrating the \pn systems into a
  mathematical VRE toolkit.  Key results were
  \begin{compactitem}[\bf R1.]
  \item the observation that \emph{knowledge-aware interoperability of software and
      database-systems is the most critical objective} for \WPref{dksbases} in the \pn
    project.
  \item the consensus that this can be achieved by \emph{aligning the mathematical
      knowledge underlying the various systems}.
  \end{compactitem}
  This requires explicitly representing the three aspects of math VREs -- Data (D),
  Knowledge (K), and Software (S) -- and basing computational services and inter-system
  communication on a joint \DKS-base. These results are engrained in the
  ``Math-in-the-Middle'' (MitM) paradigm~\cite{DehKohKon:iop16}, which gives a
  representational basis for specification-based interoperability of mathematical software
  systems -- so that they can be integrated in a VRE toolkit. In the MitM paradigm, the
  mathematical knowledge underlying the VREs (K) and the interface for each
  system (S) are represented as modular theory graphs in the OMDoc/MMT format. For the
  data aspect (D) we have extended the concept of OMDoc/MMT theories to ``virtual
  theories'' that allow the practical management of possibly infinite theories,
  see~\cite{ODK-D6.2} for details.

  A side effect of \textbf{R1.} is that the verification aspects anticipated in the
  proposal are non-critical to the \pn project. In particular the value of the exemplary
  verification of an LMFDB algorithm in \taskref{dksbases}{data-LMFDB} and
  deliverable~\delivref{dksbases}{lfmverif} seems highly questionable.

  Correspondingly we have refined the notion of ``triformal theories'' coined in the
  proposal into the concept of ``\DKS theory graphs'', which can be formalized and
  implemented without the extension of OMDoc/MMT for ``biformal theories'' anticipated in
  the proposal.

  Through the concerted effort of the WP6 participants, we have been able to implement
  this design into prototypical \DKS base patterned after the MitM paradigm with virtual
  theories, generating interface theory graphs for the \GAP and \Sage systems and
  integrating the \LMFDB system via the MitM codec architecture described
  in~\cite{ODK-D6.2}. Based on this, we were able to generically integrate \GAP, \Sage,
  and \LMFDB via the standardised SCSCP protocol~\cite{HorRoz:ossp09} -- essentially
  remote procedure calls with OpenMath Objects. This case study shows the feasibility of
  the initial design of \DKS-bases; further investigations and the integration of
  additional systems will determine the practicability.

  \paragraph{\longtaskref{dksbases}{data-assessment}}
  This task was directly addressed in the \WPref{dksbases} workshops in the first year.
  
  \paragraph{\longtaskref{dksbases}{data-triform}}
  For this task we have specified and implemented the concept of virtual theories that can
  contain large -- theoretically even infinite -- numbers of declarations and objects
  (e.g. 3.5M declarations in the LMFDB data base for elliptic functions) in
  OMDoc/MMT. Virtual theories are characterized by the fact that they are too large to
  keep in main memory of the MMT System and have to be partially and lazily imported from
  an external data store. We have reported on the results in \delivref{dksbases}{design}.

  \paragraph{\longtaskref{dksbases}{data-design}}
  This task was directly addressed in the \WPref{dksbases} workshops in the first year and
  has led to the design and implementation in \delivref{dksbases}{design}. The design has
  been published at an international conference (CICM 2016) and is now being implemented.
  
  \paragraph{\longtaskref{dksbases}{data-foundationCAS}}
  In the course of the deliberations in the \WPref{dksbases} workshops we saw a shift from
  the development of computational foundations and verification towards API/Interface
  function specifications to enable semantic system interoperability via the
  Math-in-the-Middle Ontology. Consequently, emphasis has changed to the generation of API
  Content Dictionaries (API CDs) for \GAP, \LMFDB and \Sage. We have a prototypical set
  of \GAP and \Sage Content Dictionaries in OMDoc/MMT form (\GAP: 218 CDs, 2996 entries;
  \Sage: 512 CDs, 2800 entries overall). The computational foundations exist but are rather
  more simple than originally anticipated. Much of the functionality has been offloaded to
  the SCSCP standard -- remote procedure call with OpenMath representations of the
  mathematical objects -- developed in the SCIENCE Project. As a direct consequence of the
  work in \pn the OpenMath Society has promoted the \SCSCP protocol into as an OpenMath
  Standard.
  
  Conversely, the \GAP and \Sage CDs are rather more elaborated than anticipated in the
  proposal, and thus form a viable basis for alignment with the MitM Ontology.

  \paragraph{\longtaskref{dksbases}{research-categories}}
  This task has just started, and the MitM architecture developed in \WPref{dksbases} has
  given important impulses to make the code infrastructure of \Sage and \GAP more
  declarative (knowledge-based). In \Sage, the category infrastructure was validated (it
  seems to be the right level of abstraction to generate API CDs) and extended; further
  annotations were added into the \Sage code base and accepted by the
  community. % TODO: not yet
  In \GAP,
  the facilities for ``constructors'' was reformed, extended by an infrastructure for
  documentation and static typing/type analysis, and the code base refactored for 6000
  constructors. Similarly, the online documentation subsystem for GAP has been regularized
  and synchronized with the constructor level. Already at this early stage of the task the
  new ``knowledge-based perspective'' has revealed a plethora of errors and inefficiencies
  and has contributed to the code quality in both systems. 

  \paragraph{\longtaskref{dksbases}{data-OEIS}}
  For the OEIS case study we have parsed the OEIS data and converted it into OMDoc/MMT
  theories (ca. 260,000). The main problem solved here was to parse the formula section
  (generating functions, relations between sequences, \ldots): they are represented in a
  human-oriented ASCII syntax, which is highly irregular, ill-separated from surrounding
  text, and interpunctuation. Nonetheless we managed to recover ca. 90\% of the formulae
  and 
  \begin{compactenum}[\em i\rm)]
  \item generate ca. 100,000 new relations between sequences and 
  \item provide a package of ca. 50,000 generating functions to Sage (which can be used
    e.g. in the FindStat database). 
  \end{compactenum}
  We use this theory set to test the functionalities of ``virtual theory graphs'' (one
  step up from the ``virtual theories'' developed in \taskref{dksbases}{data-design}).

  \paragraph{\longtaskref{dksbases}{data-findstat}}
  Not applicable for this period

  \paragraph{\longtaskref{dksbases}{data-LMFDB}}
  Work on this task has started. Given the concept of virtual theories developed in
  \taskref{dksbases}{data-triform} the task is to build a database connector that converts
  the MongoDB tables in LMFDB into ``mathematical objects''.  We have identified the
  problems -- e.g. that objects are reduced to ad-hoc database records: for instance
  elliptic curves are represented as a quadruple of integers, where the last is
  represented as a string of digits as the range of MongoDB integers is too small. We have
  developed an architecture of language-specific Codecs which mitigate these problems in a
  knowledge-centered way (Codecs are OMDoc/MMT objects) that interpret database records as
  OMDoc/MMT objects and can thus be used populate virtual theories.  The next step is to
  extend the existing MMT query language by a query compiler into the underlying data
  store system; concretely to MongoDB underlying LMFDB for \taskref{dksbases}{data-LMFDB}.

  \paragraph{\longtaskref{dksbases}{data-memo}}
  Not applicable for this period
  
  \paragraph{\longtaskref{dksbases}{mws}}
  Work on the first work phase has proceeded as planned and has culminated in
  \delivref{dksbases}{mws}. The second work phase on this task presupposes the
  Math-in-the-Middle ontology (as we call it now.) Where we already have that, e.g. for
  the OEIS (see \taskref{dksbases}{data-OEIS}) we already have a running search
  engine. The main problem here is to devise intuitive query interfaces and integrate them
  into the \pn VRE framework.


  \subsubsection{WorkPackage 7}
%Explain, task per task, the work carried out in WP during the reporting period giving details of the work carried out by each beneficiary involved.
  Ursula Martin has stepped down in anticipation of her upcoming retirement, and Dmitrii
  Pasechnik has become the lead PI for this work package.  This somewhat slowed down the
  takeoff of this work package, but the important deliverables are well on track, if not
  ahead of schedule. Nevertheless, the consortium may need to request for a new amendment
  after the Review of the 1st Reporting Period to clarify the situation.

  As planned, the work was focused on bootstrapping
  \longtaskref{social-aspects}{social-input} and
  \longtaskref{social-aspects}{isocial-decisionmaking} whose early outcomes will nurture
  the design of \ODK's VREs in other work packages.

  For \taskref{social-aspects}{social-input},
  \longdelivref{social-aspects}{social-datareport} analysing in particular the state of
  affairs in our model system \Sage, has been delivered on time.

  For \longtaskref{social-aspects}{isocial-decisionmaking},
  \delivref{social-aspects}{social-tracaddon} is largely ready and is to be tested on the
  system \Sage; a paper \cite{Pavlou:2016:MCI:2936924.2936934} forming a part of
  \delivref{social-aspects}{social-gametheoretic} has been published.

  Finally, early work was done for \taskref{social-aspects}{social-output} on connections
  of reproducibility, crowdsourcing, and a VRE as a mean to test and control the former: a
  paper \cite{2016arXiv160100181C} analysing a concrete well-established area of
  combinatorics in this respect, and describing the implementation of the corresponding
  meta-database in \Sage system has been published. Another paper \cite{2016arXiv160301710P},
  again touching upon reproducibility and correctness of mathematical results, and
  utilizing extensive computations in \GAP has been published.
  .

  \subsection{Impact}
  % Include in this section whether the information on section 2.1 of the DoA (how your
  % project will contribute to the expected impacts) is still relevant or needs to be
  % updated. Include further details in the latter case

  All the information of section 2.1 of the DoA is still relevant. There is for now no
  change to bring to Key Performance Indicators. The evolution of the measures between
  Month 18 and Month 36 will allow the Coordinator to evaluate if the selected KPI are
  appropriate.

\subsection{Infrastructures}
% If access to research infrastructures has been provided under the grant please include
% access provision activities

Per design, \ODK focuses on delivering ``a flexible toolkit enabling
research groups to set up Virtual Research Environments''. As such,
there is no e-infrastructure deployed and managed by \ODK. Instead,
there are many e-infrastructure that use the software developed or
contributed to by \ODK, and we regularly help with new or updated
deployments.

Some of the typical content of this section (e.g. Selection Panel,
...) is therefore irrelevant for \ODK, and we simply provide some
informal information and figures on the main existing deployments and
their typical public, together with some assessment of the impact we
had on them.

% TODO!

  \subsubsection{Trans-national Access Activities (TA)}

  % Provide for the set of TA Work Packages, the integrated information described below.

  % - Description of the publicity concerning the new opportunities for access In the
  % first periodic report describe the measures taken to publicise to research teams
  % throughout Europe the opportunities for access open to them under the Grant
  % Agreement. In the following periodic reports indicate only additional measures and
  % changes.

  % - Description of the selection procedure In the first periodic report, describe the
  % procedure used to select users: organisation of the Selection Panel, any additional
  % selection criteria employed by the Selection Panel, measures to promote equal
  % opportunities, etc. Specify if feedback is given to rejected applicants and in which
  % form. In the following periodic reports indicate only changes to the existing
  % procedure.

  % The list of the Selection Panel members should be maintained and update when necessary
  % in order to prove that the panel is composed following the conditions indicated in
  % Article 16.1 of the GA. The Commission reserves the right to request this list at any
  % time.

  % Indicate number, date and venue (if not carried out remotely) of the meetings of the
  % Selection panel during the reporting period.

  % Provide integrated information on the selection of user projects and on the scientific
  % output of supported users. In particular indicate the number of eligible User projects
  % submitted in the reporting period and the number of the selected ones taking into
  % account only calls for which the selection has been completed in the reporting period.
  % Indicate also the number of user projects, started and supported in the reporting
  % period, which have a majority of users not working in an EU or associated country


  % - Description of the Trans-national Access activity Give an overview of the
  % user-project sand users supported in the reporting period indicating their number,
  % their scientific fields and other relevant information you may want to highlight.  You
  % should maintain the list of the user-projects for which costs have been incurred in
  % the reporting period.  A user-project can run over more than one reporting period. In
  % this case it should be inserted in the list of each concerned reporting period.  The
  % list of user-projects must include, for each user-project, the acronym, objectives, as
  % well as the amount of access granted to it on each installation used by the
  % user-project in the reporting period. When the user-project is completed in the
  % reporting period the list should also include a short description of the work carried
  % out. The Commission reserves the right to request this list at any time.

  % In addition you must fill the following tables (in Part A to be filled in the IT
  % tool):

  % - List of users: Researchers who have access to research infrastructures/installations
  % (one or more) through Union support under the grant either in person (through visit)
  % or through remote access;

  % - Research infrastructures made accessible to all researchers in Europe and beyond
  % through EU support and summary of trans-national access provision per installation per
  % reporting period indicate for each installation providing trans-national access under
  % the project the quantity of access actually provided in the Reporting Period
  % (expressed in the unit of access defined in Annex 1 for that specific installation).


  % *Scientific output of the users at the facilities: Give highlights of important
  % research results from the user-projects supported under the grant agreement.  Indicate
  % the number and the type of publications derived by user-projects supported under the
  % grant taking into account only publications that acknowledge the support of this EU
  % grant.  You should maintain a list of publications that have appeared in journals (or
  % conference proceedings) during the reporting period and are resulting from work
  % carried out under the Trans-national Access activity.  List only publications that
  % acknowledge the support of the European Community. For each publication indicate: the
  % acronyms of the user-projects that have led to the publication itself, the authors,
  % the title, the year of publication, the type of publication (Article in journal,
  % Publication in conference proceeding/workshop, Book/Monograph, Chapters in book,
  % Thesis/dissertation, whether it has been peer-reviewed or not, the DoI (Digital Object
  % Identifier), the publication references, and whether the publication is available
  % under Open Access or not.  The Commission reserves the right to request this list at
  % any time.


  % *User meetings If any user meetings have been organised in the reporting period,
  % indicate for each of them the date, the venue, the number of users attending the
  % meeting and the overall number of attendees.


  \subsubsection{Virtual Access Activities (VA)}

  % Provide for the set of VA Work Packages, the integrated information described below..

  % Provide statistics on the virtual access in the period by each installation, including
  % quantity, geographical distribution of users and, whenever possible,
  % information/statistics on scientific outcomes (publications, patents, etc.)
  % acknowledging the use of the infrastructure.

  % As indicated in Art. 16.2, the access providers must have the virtual access services
  % assessed periodically by a board composed of international experts in the field, at
  % least half of whom must be independent from the beneficiaries.  In the first periodic
  % report, describe how the virtual access providers will comply with this obligation.
  % In the following periodic reports indicate only changes to the existing procedure.

  % When an assessment is scheduled under the reporting period, the assessment report must
  % be submitted as deliverable


  \section{Update of the plan for exploitation and dissemination of result (if
    applicable)}
  % Include in this section whether the plan for exploitation and dissemination of results
  % as described in the DoA needs to be updated and give details.



  \section{4. Follow-up of recommendations and comments from previous review(s) (if
    applicable)}
  % Include in this section the list of recommendations and comments from previous reviews
  % and give information on how they have been followed up


  \section{Deviations from Annex 1 (if applicable)}
  % Explain the reasons for deviations from the DoA, the consequences and the proposed
  % corrective actions



  \subsection{Tasks}
  % Include explanations for tasks not fully implemented, critical objectives not fully
  % achieved and/or not being on schedule.  Explain also the impact on other tasks on the
  % available resources and the planning

  There was no major deviation from Annex 1. All deliverables due for M18 were delivered
  within the timeframe of the 1st Reporting Period, and all milestones in this period were
  reached.  Slight modifications were brought to \WPref{hpc} and \WPref{dksbases} and were
  included in the AMD-676541-13.


  Some deliverables names in \WPref{hpc} were modified
  \begin{enumerate}
  \item \delivref{hpc}{MPIRsuperoptimiser} from "Extend the existing assembly
    superoptimiser for AVX and upcoming Intel processor extensions for the MPIR library"
    to "Write an assembly superoptimiser supporting AVX and upcoming Intel processor
    extensions for the MPIR library and optimise MPIR for modern processors"
  \item \delivref{hpc}{QS-linalg} from"Parallelise the relation sieving component of the
    Quadratic Sieve and implement a parallel version of Block-Wiederman linear algebra
    over GF2 and the triple large prime variant" to "Parallelise the relation sieving
    component of the Quadratic Sieve and implement a parallel version of Block-Wiederman
    linear algebra over GF2 and implement large prime variants"
  \item \delivref{hpc}{FFT} from "Take advantage of multiple cores in the matrix Fourier
    Algorithm component of the FFT for integer and polynomial arithmetic, and include
    assembly primitives for SIMD processor instructions (AVX, Knight's Bridge, etc.),
    especially in the FFT butterflies" to "Take advantage of multiple cores in the matrix
    Fourier Algorithm component of the FFT for integer and polynomial arithmetic, and
    include assembly primitives for SIMD processor instructions (e.g. AVX, etc.),
    especially in the FFT butterflies"
  \end{enumerate}

  Some titles of the \WPref{dksbases} deliverables were modified to respect the change in
  priority on system interoperability and distributed computing in the
  ``Math-in-the-Middle'' Paradigm over algorithm verification:
  \longdelivref{dksbases}{psfoundation}, \longdelivref{dksbases}{pssem}, and
  \longdelivref{dksbases}{lfmverif}


  \subsection{Use of resources}
  % Include explanations on deviations of the use of resources between actual and planned
  % use of resources in Annex 1, especially related to person-months per work package.

  -Addition of two partners which will not bring any modification to the life of the
  project

  \subsection{Unforeseen subcontracting (if applicable)}

  % Specify in this section: a) the work (the tasks) performed by a subcontractor which
  % may cover only a limited part of the project; b) explanation of the circumstances
  % which caused the need for a subcontract, taking into account the specific
  % characteristics of the project; c) the confirmation that the subcontractor has been
  % selected ensuring the best value for money or, if appropriate, the lowest price and
  % avoiding any conflict of interests

  \subsection{Unforeseen use of in kind contribution from third party against payment or
    free of charges (if applicable)}

  % Specify in this section: d) the identity of the third party; e) the resources made
  % available by the third party respectively against payment or free of charges f)
  % explanation of the circumstances which caused the need for using these resources for
  % carrying out the work.

\newpage
\printbibliography

\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:

%  LocalWords:  maketitle githubissuedescription newpage newcommand xspace Jupyter dissem
%  LocalWords:  tableofcontents visualizations composability itemize analyzed taskref hpc
%  LocalWords:  dissemination-of-oommf-nb-virtual-environment taskref dissem taskref pn
%  LocalWords:  dissemination-of-oommf-nb-workshops dissem ibook taskref taskref taskref
%  LocalWords:  oommf-python-interface oommf-py-ipython-attributes taskref oommf-nb-ve
%  LocalWords:  oommf-tutorial-and-documentation taskref oommf-nb-evaluation taskrefs ipr
%  LocalWords:  delivref pythran-typing sage-paral-tree subsubsection organized Dagstuhl
%  LocalWords:  co-organized organization modularization ipython-kernels nbdime Pythran
%  LocalWords:  jupyter-collab ystok WPref dksbases compactitem emph WPtref DehKohKon mws
%  LocalWords:  iop16 textbf tasktref lfmverif triformal formalized biformal ossp09 Dima
%  LocalWords:  hline Marijan Pilorget Pierrick Kruppa Dehaye Dehaye's Dehaye's Alnaes
%  LocalWords:  Konovalov Hinsen github printbibliography oldmaketitle Bougeret Carette
%  LocalWords:  Csabai Piwik centralized Cython organizing EuroScyPy nbgrader nbgrader
%  LocalWords:  specialized Codecov joommf-news Micromagnetic Fruehjahrstagung Intermag
%  LocalWords:  ibook2 Sagecell adcomp index-librorum-salvificorum scscp-sage nbval numpy
%  LocalWords:  ipython-kernel-sage notebook-collab jupyter-live-collab pytest adstex
%  LocalWords:  optimizations mathhub visualization ipyvolume cfd-vis summarized ouput
%  LocalWords:  tightlist cysignals Parallelization vectorize super-optimizer vectorized
%  LocalWords:  paralellization LinBox-algo quasiseparable hpc-mpir MPIRsuperoptimiser
%  LocalWords:  optimizing pythran:cython pythran:sage vectorization leftrightarrow Cilk
%  LocalWords:  DehKohKon:iop16 HorRoz:ossp09 characterized synchronized ldots Dmitrii
%  LocalWords:  interpunctuation Pasechnik isocial-decisionmaking social-tracaddon pssem
%  LocalWords:  social-gametheoretic superoptimiser Block-Wiederman psfoundation oommfc
%  LocalWords:  oommfnb-vre-deliver
