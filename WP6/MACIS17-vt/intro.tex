\section{Introduction}\label{sec:intro}

There are various large-scale sources of mathematical knowledge.  These include
\begin{compactitem}
\item generic information systems like the Wikipedia,
\item collections of informal but rigorous mathematical documents -- e.g. research libraries, publisher's ``digital libraries'', or the Cornell preprint arXiv,
\item literature information systems like zbMATH or MathSciNet,
\item databases of mathematical objects -- like the GAP group libraries, the Online Encyclopedia of Integer sequences (OEIS), and the L-functions and Modular Forms Database (LMFDB),
\item fully formal theorem prover libraries like those of Mizar, Coq, PVS, and the HOL systems.  We commonly refer to all these as Mathematical Knowledge Bases.
\end{compactitem}
  
We will use the term \textbf{mathematical knowledge bases} to refer to them collectively and restrict ourselves to those that are available digitally. They are very useful in mathematical research, applications, and education.  Commonly these systems are only accessible via a dedicated web interface that allows humans to query or browse the databases.  A programmatic interface, if it exists at all, is system specific, meaning that to use it mathematicians need to be familiar both with the mathematical background and internal structure of the system in question.  No predominant standard exists, and these interfaces usually only expose the low-level raw database content.

In this paper, we focus on addressing this problem. 
We ask the question of what mathematicians desire from a ``programmatic, mathematical API''. 
Such an API would give access to the knowledge-bases programmatically via their mathematical constructions and properties. 

We take it one step further and discuss our implementation of such an approach.  We interpret mathematical knowledge bases as \ommt theory graphs -- modular, flexi-formal representations of mathematical objects, their properties, and relations. This embedding gives us a common conceptual framework to handle different knowledge sources, and the modular and heterogeneous nature of \ommt theory graph can be used to reconcile differing ontological commitments of the knowledge sources with in this conceptual framework.

To cope with the scale of mathematical content collections we update \ommt theories to ``virtual theories'', which no longer limit the number of declarations in theory and practice, and update knowledge management algorithms in the \mmt system so that they can cope with theories that do not fit into main memory but directly deal with the underlying databases as backends employing a modular system of CoDecs to bridge the gap between the database schema and the mathematical construction of objects.

This paper proceeds as follows: 
In Section~\ref{sec:mmtmitm} we give a short overview of \ommt theory graphs along with the Math-In-The-Middle approach developed in the OpenDreamKit project, our primary use-case for Virtual Theories. 
We then continue in Section~\ref{sec:sota} by giving an example a State-Of-The-Art Mathematical Database along with its' interface by discussing \lmfdb. 
In Section~\ref{sec:vt} we then describe how to represent this example as a set of Virtual Theories. 
We move on in Section~\ref{sec:access} to describe how to access Virtual Theories using our CoDec architecture. 
Finally, we describe in Section~\ref{sec:qmt} how to make QMT Queries aware of Virtual Theories. 
Section~\ref{sec:concl} concludes the paper.

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "paper"
%%% End:

%  LocalWords:  sec:intro oeis lmfdb sagemath wrapfigure textwidth tikzpicture textbf compactitem zbMATH MathSciNet ommt ommt sec:mmtmitm sec:sota sec:vt sec:concl
%  LocalWords:  fig:classicalconnect LuzKoh:fsarfo16 DehKohKon:iop16 omdocmmt mechanized
