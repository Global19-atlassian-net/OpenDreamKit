\section{The MitM Paradigm}\label{sec:mitm}

To build a VRE toolkit from open-source (or open-API\footnote{It turns out that it is
  sufficient to have a well-documented API that gives access to the internal
  (mathematical) data structures and functionality, so closed-source systems can also be
  part of the MitM paradigm if they do.}) systems, we need a joint user interface -- the
OpenDreamKit project adopts Jupyter~\cite{jupyter-project:on} and active
documents~\cite{KohDavGin:psewads11} -- and an interoperability layer that allows to pass
problems and results between the disparate systems. 

For the latter -- and that is the topic of this paper -- we need a way to mediate between
the interaction layers of the respective systems. Generally, mathematical software systems
have apply operations on mathematical objects, which can be expressed as domain-specific
constructors to primitive objects like numbers. The results of these operations are again
such objects. If we abstract from issues of surface syntax -- which we can by assuming
that the systems use a standard like OpenMath~\cite{BusCapCar:2oms04}, the interface
languages differ in their vocabularies -- the operations and constructors. The difficulty
in the translation of objects and functionalities between systems is to align the
respective vocabularies: constructors of system $A$ can be operations in $B$ and vice
versa, even when $A$ and $B$ deal with the mathematically ``same objects'', these may be
constructed differently, and even if $A$ and $B$ share constructors and operations, these
can differ in argument order/number, types, etc.

Obviously, a P2P translation regime ($n^2$ transations between all systems) is already
intractable for the systems in the OpenDreamKit project (more than a douzend), and a
``industry standard'' regime where one interaction language is declared as a ``standard''
is infeasible, since no system subsumes the others in terms of coverage -- apart from the
political problems such a standardization would induce. Instead we have proposed the
``Math-in-the-Middle'' (MitM) approach, where we use ``mathematical knowledge'' as an
independent mediating vocabulary, and all system vocabularies are aligned to that. After
all, the mathematics behind the systems is published using this vocabulary.

\begin{wrapfigure}r{4.3cm}\vspace*{-2em}
  \tikzinput{mistargraph}\vspace*{-1em}
  \caption{MitM Paradigm}\label{fig:mitm}\vspace*{-1.5em}
\end{wrapfigure}
Figure~\ref{fig:mitm} shows the setup of the MitM paradigm -- see~\cite{DehKohKon:iop16}
for details. In the center, we have the \textbf{MitM Ontology}, which is a modular
flexiformalization of the mathematical knowledge behind the systems $A$ to $H$ as a theory
graph in the OMDoc/MMT Format~\cite{Kohlhase:OMDoc1.2,RabKoh:WSMSML13,uniformal:on}. For
each of the systems $A$ to $H$, we generate a theory graph \textbf{API Content
  Dictionaries}\footnote{In~\cite{DehKohKon:iop16} we had called these ``interface
  theories'', but we would like to reserve this term for certain theories in the MitM
  ontology.}\ednote{MK: we may want to change this term before we submit; let's discuss!}
in OMDoc/MMT which is aligned with the corresponding symbols in the MitM ontology. As the
API CDs and the MitM Ontology are both in OMDoc/MMT -- inside the cloud in
Figure~\ref{fig:mitm} -- we can make use of \textbf{OMDoc/MMT
  alignments}~\cite{MueGauKal:cacfms17} which have been developed in the meantime for the
MitM vocabulary alignment relation.\ednote{MK: talk about interface theories somewhere
  below}

\begin{todolist}{MK@MK: recap from CICM paper}
\item copy the running example from Tom's thesis as a didactically motivated example:
  three-party computation, mathematically somewhat trivial, but informative; and it
  involves SageMath
\item introduce the GAP/Singular case study as a running example and make it concrete in
  the MitM paradigm -- this example is mathematically
\end{todolist}

\input{mitm_poc}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "paper"
%%% End:

%  LocalWords:  sec:mitm Jupyter jupyter-project:on KohDavGin:psewads11 BusCapCar:2oms04
%  LocalWords:  wrapfigure vspace tikzinput mistargraph fig:mitm mitm_poc
