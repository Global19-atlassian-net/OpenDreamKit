\section{Introduction}\label{sec:intro}

There is a large and vibrant ecosystem of open-source mathematical software systems. 
These systems can range from calculators, which are only capable of performing simple computations, via mathematical databases (curating collections of a mathematical objects), to powerful modeling tools and computer algebra systems (CAS).

Most of these systems are very specific -- they focus on one or very few aspects of mathematics. 
For example, the ``Online Encyclopedia of Integer Sequences'' (OEIS~\cite{Sloane:oeis12,oeis}) focuses on sequences over $\mathbb{Z}$ an their properties and the ``L-Functions and Modular Forms Database'' (LMFDB)~\cite{Cremona:LMFDB16,lmfdb:on} objects in number theory pertaining to Langland's program. 
\GAP~\cite{GAP:on} excels at discrete algebra, whereas \Sage~\cite{SageMath:on} focuses on Algebra and Geometry in general, and \Singular~\cite{singular:on} on polynomial computations, with special emphasis on commutative and non-commutative algebra, algebraic geometry, and singularity theory.

\ednote{Shall we mention any of the non open but well known one?
  Mathematica, Magma, ...}

\ednote{NT: \Sage's focus on Algebra and Geometry was in the very
  beginning; maybe it could be described last, as “aims to be a
  general purpose software for computational pure mathematics, by
  integrating many other systems, including the aforementioned”,
  currently using ad-hoc methods.}

For a mathematician however (a user; let us call her Jane) the systems themselves are not relevant; instead she only cares about being able to solve problems. 
Typically, it is not possible to solve a mathematical problem using only a single program. 
Thus Jane needs to work with multiple systems and combine the results to reach a solution. 
Currently there is very little help with this practice, so Jane has to isolate sub-problems the respective systems are amenable to, formulate them into the respective input language, collect results, and reformulate them for the next system --- a tedious and error-prone process at best, a significant impediment to scientific progress in its overall effect. 
Solutions for some situations certainly exist, which can help get Jane unstuck, but these are ad-hoc and for specific, often-used system combinations only. 
Each of these requires a lot of maintenance and does not scale to a larger set of specialist systems. 

The OpenDreamKit project, which aims at a mathematical VRE toolkit, proposes the Math-in-the-Middle (MitM~\cite{DehKohKon:iop16}) paradigm, an interoperability framework based on a flexiformal representation of mathematical knowledge and aligns this with system-generated interface theories. 

In this paper we instantiate the MitM paradigm in a concrete case study using a distributed computation involving \GAP, \Sage, and \Singular.
We will use the following running example from computational group theory: Jane works in the polynomial ring $R=\mathbb{Z}[X_1,\ldots,X_4]$.
She wants to compute the orbit $O=Orbit(D_8,R,X_1+X_2)\subseteq R$ of the polynomial $X_1+X_2\in R$ under the action of the dihedral group\footnote{Incidentally, this group is called $D_4$ in \Sage but $D_8$ in \GAP due to differing conventions in different mathematical communities --- one of the obstacles to system interoperability that our framework tackles.} $D_8$, and then compute a Groebner base $G=Groebner(Ideal(O))\subseteq R$ for the ideal generated by $O$.
Jane is a \Sage user and wants to receive the result in \Sage, but she wants to use \GAP's orbit algorithm and \Singular's Groebner base algorithm, which she knows to be very efficient.

In Section~\ref{sec:mitm} we recap the MitM paradigm.
MitM solutions consists of three parts: a central ontology, formalizations of the abstract languages of the involved systems, and the distributed computation between systems that uses the ontology as an intermediate representation.
The rest of the paper instantiates this abstract paradigm in a concrete case study.
Section~\ref{sec:cgt} presents an MitM ontology for computational group theory.
Section~\ref{sec:apit} describes specifications of the abstract languages of \GAP, \Sage, and \Singular.
And Section~\ref{sec:case} presents the VRE prototype built on \GAP and \Singular in action.
Section~\ref{sec:concl} concludes the paper and compares MitM-based interoperability with ad-hoc implementations in terms of scalability and maintenance cycles. 

\ednote{FR: It looks very weak if the case study does not involve Sage. Is there any way how we can involve Sage? Maybe the result of the Gap/Singular computation could be sent to Sage?}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "paper"
%%% End:

%  LocalWords:  sec:intro Sloane:oeis12,oeis mathbb Cremona:LMFDB16,lmfdb:on GAP:on \Sage:on singular:on DehKohKon:iop16 emph sec:mitm sec:cgt sec:apit sec:mitm_poc sec:concl MitM-based sec:case
