\documentclass[book]{deliverablereport}
\usepackage[style=alphabetic,backend=bibtex]{biblatex}
\addbibresource{../../lib/kbibs/kwarcpubs.bib}
\addbibresource{../../lib/kbibs/extpubs.bib}
\addbibresource{../../lib/kbibs/kwarccrossrefs.bib}
\addbibresource{../../lib/kbibs/extcrossrefs.bib}
\addbibresource{../../lib/deliverables.bib}
\addbibresource{local.bib}
%\usepackage{local}
\usepackage[show]{ed}
\usepackage{tikzinput}
\usetikzlibrary{backgrounds,shadows,shapes,fit,arrows,mmt,backgrounds,positioning}
\usetikzlibrary{decorations.pathmorphing}
\def\defemph{\textbf}
\usepackage{systems}
%\usepackage{arydshln} % interacts negatively with proposal.cls
\usepackage{wrapfig}
\usepackage{tabularx}
\usepackage{multirow}

\def\papertype{report\xspace}

\usepackage{listings}
\lstset{columns=fullflexible,basicstyle=\sf}
% QMT
\lstdefinelanguage{qmt}{
    basicstyle=\footnotesize\ttfamily,
    showstringspaces=false,
    frame=single, 
    mathescape, 
    columns=fullflexible,
    breaklines=true
}
% JSON syntax
\lstdefinelanguage{json}{
    basicstyle=\footnotesize\sffamily,
    numberstyle=\scriptsize,
    showstringspaces=false,
    breaklines=true,
    frame=single, 
    literate=
     *{0}{{{\color{numb}0}}}{1}
      {1}{{{\color{numb}1}}}{1}
      {2}{{{\color{numb}2}}}{1}
      {3}{{{\color{numb}3}}}{1}
      {4}{{{\color{numb}4}}}{1}
      {5}{{{\color{numb}5}}}{1}
      {6}{{{\color{numb}6}}}{1}
      {7}{{{\color{numb}7}}}{1}
      {8}{{{\color{numb}8}}}{1}
      {9}{{{\color{numb}9}}}{1}
      {:}{{{\color{punct}{:}}}}{1}
      {,}{{{\color{punct}{,}}}}{1}
      {\{}{{{\color{delim}{\{}}}}{1}
      {\}}{{{\color{delim}{\}}}}}{1}
      {[}{{{\color{delim}{[}}}}{1}
      {]}{{{\color{delim}{]}}}}{1},
}

\providecommand{\inlinecode}[1]{{\lstinline[language=qmt]|#1|}}

\def\meta#1{\ensuremath{\langle\kern-.25em\langle}#1\ensuremath{\rangle\kern-.2em\rangle}}

% More abbreviatons for diagrams and things
\def\plaintt#1{\ifmmode\mathrm{\texttt{#1}}\else\texttt{#1}\fi}
\def\typett{\plaintt{type}\xspace}
\def\codectt{\plaintt{codec}\xspace}

% TIKZ
\usepackage{tikz}
\def\thmo#1#2{\mathsf{#1}\colon\kern-.15em{#2}}% for theories
\usetikzlibrary{shapes,arrows,mmt,fit,shadows}

% Abbreviations
\providecommand{\mmt}{\textsf{MMT}\xspace}
\providecommand{\ommt}{\textsf{OMDoc}/\textsf{MMT}\xspace}
\providecommand{\lmfdb}{\textsf{LMFDB}\xspace}

% identifiers and URIs
\providecommand{\identifier}[1]{%
% FR the line below doesn't work for me; if you see this, I accidentally committed my workaround
%\StrSubstitute{#1}{\_}{_}[\identifiertmp]\expandafter\path\expandafter{\identifiertmp}%
#1
}
\let\uri\identifier

% colors for syntax highlighting
\usepackage{xcolor}
\colorlet{punct}{red!60!black}
\definecolor{background}{HTML}{EEEEEE}
\definecolor{delim}{RGB}{20,105,176}
\colorlet{numb}{magenta!60!black}

\title{GAP/SAGE/LMFDB Interface Theories and alignment in OMDoc/MMT for System Interoperability}
\def\shorttitle{GAP/SAGE/LMFDB Interface Theories}
\deliverable{dksbases}{psfoundation}
\deliverydate{1/07/2018}
\duedate{1/09/2017}

\author{John Cremona}
\author{Dennis M\"uller}
\author{Michael Kohlhase}
\author{Markus Pfeiffer}
\author{Florian Rabe}
\author{Nicolas Thierry}
\author{Tom Wiesing}


\begin{document}
\begin{abstract}
  There is a large ecosystem of mathematical software systems and knowledge bases.
  Individually, these are optimized for particular domains and functionalities, and
  together they cover many needs of practical and theoretical mathematics.  However, each
  system specializes on one particular area, and it remains very difficult to solve
  problems that need to involve multiple systems.  Some integrations exist, but the are
  ad-hoc and have scalability and maintainability issues.  In particular, there is not yet
  an interoperability layer that combines the various systems into a virtual research
  environment (VRE) for mathematics.
  
  The OpenDreamKit project aims at building a toolkit for such VREs.  It suggests using a
  central system-agnostic formalization of mathematics (Math-in-the-Middle, MitM) as a
  mathematical pivot point for meaning-preserving translations in the needed
  interoperability layer.  In this \papertype, we report on a series of case study that
  instantiates the MitM paradigm with the systems \GAP, \Sage, \LMFDB, and
  \Singular\Ednote{MK: Pari/GP as well?} to perform distributed computation in group,
  ring, and number theory.
 
  Our work involves massive practical efforts, including a novel formalization of
  computational group theory, improvements to the involved software systems, an extension
  of the underlying knowledge managment system to cope with large theories, and a novel
  mediating system that sits at the center of a star-shaped integration layout between
  mathematical software systems and knowldge bases.
\end{abstract}

\maketitle
% \newpage\strut\githubissuedescription
\setcounter{tocdepth}{2}
\newpage\tableofcontents\newpage
\ednote{Plan for the Document: we will use the MACIS papers for this and include the LMFDB
  worked example~\cite{CreLow:mdcmds18}.}

\input{intro}

\section[Math-in-the-Middle]{The Math-in-the-Middle Approach}\label{sec:mitm}
\input{mitm}

\section[MitM Ontology]{The MitM Ontology}\label{sec:cgt}
\input{cgt}

\ednote{FR: eventually we should move more content from list of types and the list of codecs here, which is in the D6.8 for now}

\section{Concrete Encodings of MitM Objects}\label{sec:codecs}
\input{codecs}

\section[Computation Systems]{Integrating Computation Systems with MitM: \GAP, \Sage, and \Singular}\label{sec:apit}
\input{apit}

\section[Databases]{Integrating Databases with MitM: LMFDB}\label{sec:databases}
The mathematical software systems to be integrated via the MitM approach have so far been computation-oriented, e.g., computer algebra systems.
Their API theories typically declare types and functions on these types (the latter including constants seen as nullary functions).
Even though database systems differ drastically from these in many respects, they are very similar at the MitM level: a mathematical database defines
\begin{compactitem}
 \item some types: each table's schema is essentially one type definition,
 \item many constants: each table entry is one constant of the corresponding type.
\end{compactitem}
Thus, we can reuse many of the same concepts.
In particular, the API theories must contain definitions of the database schemas. 

Apart from standard software engineering tasks, this leaves three conceptual problems we had to solve:
\begin{compactenum}[\bf P1]
\item Turn the database schemas and tables into \ommt theories and declarations. 
\item Lift data in \emph{physical} representation (as records of the
  underlying database) to \ommt object in \emph{semantic} representation.
\item Translate semantic queries to queries about physical representations so
  that they can be executed directly on the database without loading the entire theory into
  \mmt.
\end{compactenum}
We deal with \textbf{P1} in Section~\ref{sec:vt}, with \textbf{P2} in Section~\ref{sec:vt:codec}, and with \textbf{P3} in Section~\ref{sec:qmt}. 

In this paper, we focus on \lmfdb as an example, of which we give an overview in Section~\ref{sec:lmfdb}.
However, our methods are general enough to apply to many other mathematical databases such as OEIS, or findstat.

 \subsection{LMFDB Overview}\label{sec:lmfdb}
  \input{sota}
 \subsection[Virtual Theories]{\lmfdb as a Set of Virtual Theories}\label{sec:vt}
  \input{vt}
 \subsection{Ascribing Encodings in Schema Theories}\label{sec:vt:codec}
  \input{access}
 \subsection{Translating Queries}\label{sec:qmt}
  \input{qmt}

\section[Distributed Computation]{MitM-Based Distributed Computation}\label{sec:case}
\input{case}

\section{Conclusion}\label{sec:concl}
\input{concl}
\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:

%  LocalWords:  maketitle newpage tableofcontents newpage newcommand xspace ednote mathdb
%  LocalWords:  standardize dktheories concl printbibliography pn textit mmt mitm emph
%  LocalWords:  WPref dksbases prioritized taskref organized delivref dkstheories
%  LocalWords:  githubissuedescription
