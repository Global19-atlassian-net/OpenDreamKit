\def\thmo#1#2{\mathsf{#1}\colon\kern-.15em{#2}}
\providecommand\myxscale{3.9}
\providecommand\myyscale{2.2}
\providecommand\myfontsize{\footnotesize}

\begin{figure}[h]
  \begin{center}
    \begin{tikzpicture}[xscale=\myxscale,yscale=\myyscale]\myfontsize

      % Math-In-The-Middle and Components

      \node[thy] (mitm) at (1,1) {
        \begin{tabular}{l}
          \textsf{Math-In-The-Middle}\\\hline
          \texttt{polynomial}\\
          \texttt{power\_series}\\
          \dots
        \end{tabular}
      };

      \node[thy] (mitmlogic) at (0,-1) {
        \begin{tabular}{l}
          \textsf{Logic}\\\hline
          \texttt{bool}\\
          \texttt{prop}\\
          \texttt{and}\\
          \dots
        \end{tabular}
      };

      \node[thy] (mitmint) at (0.66,-1) {
        \begin{tabular}{l}
          \textsf{Numbers}\\\hline
          \texttt{int}\\
          \texttt{nat}\\
          \dots
        \end{tabular}
      };

      \node[draw,draw=white] (mitmdots) at (1.33,-1) {\dots};

      \node[thy] (mitmsets) at (2,-1) {
        \begin{tabular}{l}
          \textsf{Sets}\\\hline
          \texttt{set}\\
          \texttt{emptyset}\\
          \texttt{setcons}
        \end{tabular}
      };

      \draw[include] (mitmlogic) -- (mitm);
      \draw[include] (mitmint) -- (mitm);
      \draw[include] (mitmsets) -- (mitm);


      % Curves and Codecs

      \node[thy] (curve) at (3,1) {
        \begin{tabular}{l}
          \textsf{Elliptic Curves}\\\hline
          \texttt{elliptic\_curve}\\
          \texttt{base\_field}\\
          \texttt{minimal\_Weierstrass\_model}\\
          \dots
        \end{tabular}
      };

      \node[thy] (codecs) at (3,-1) {
        \begin{tabular}{l}
          \textsf{Codecs}\\\hline
          \codec\\
          \intAsString\\
          \intAsList\\
          \standardList\\
          \dots
        \end{tabular}
      };

      \draw[include] (mitm) -- (curve);
      \draw[include] (mitm) -- (codecs);

    \end{tikzpicture}
  \end{center}

  \caption[Theories involved in our architecture]{
    A Theory Graph of some of the theories involved in our approach.
    Imports are represented as solid edges.
    We omit the full declarations and some of the more fine-grained structure for simplicity.
  }
  \label{fig:odk_theories}
\end{figure}
