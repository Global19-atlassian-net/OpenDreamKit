\documentclass{deliverablereport}
\title{Overview of the progress of the work}
\author{Michael Kohlhase, Florian Rabe}

\usepackage{ed}

\usepackage[style=alphabetic,backend=biber]{biblatex}
\addbibresource{../../lib/kbibs/kwarcpubs.bib}
\addbibresource{../../lib/kbibs/extpubs.bib}
\addbibresource{../../lib/kbibs/kwarccrossrefs.bib}
\addbibresource{../../lib/kbibs/extcrossrefs.bib}
\addbibresource{../../lib/deliverables.bib}
\addbibresource{../../lib/publications.bib}
%\addbibresource{local.bib}
% temporary fix due to http://tex.stackexchange.com/questions/311426/bibliography-error-use-of-blxbblverbaddi-doesnt-match-its-definition-ve
\makeatletter\def\blx@maxline{77}\makeatother

\makeatletter
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Styling: adapt amsart's subsubsection macro to put a newline after the title
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\renewcommand\subsubsection{\@startsection{subsubsection}{2}%
  \z@{.5\linespacing\@plus.7\linespacing}{.1\linespacing}%
  {\normalfont\bfseries}}

% Variant of taskref that links to the section on the task in this file
\newcommand\localtaskref[2]{\hyperref[#1@#2]{\csname task@#1@#2@label\endcsname}}
\makeatother

\begin{document}
\begin{center}
\makeatletter
Project Number: \prop@gen@proposalnumber\\[1cm]
Project Acronym: \prop@gen@acronym\\[1cm]
Project title: \prop@gen@title\\[4cm]

Termination of beneficiary: Jacobs University Bremen\\[1cm]
Overview of the progress of the work \\[4cm]

Period covered by the report: from 01/09/2015 to 31/01/2018
\makeatother
\end{center}
\newpage

\oldmaketitle
\tableofcontents\newpage

\section{Explanation of the work carried out by the beneficiaries and Overview of the progress}

%•	Explain the work carried out during the reporting period in line with the Annex 1 to the Grant Agreement. 
%•	Include an overview of the project results towards the objective of the action in line with the structure of the Annex 1 to the Grant Agreement including summary of deliverables and milestones, and a summary of exploitable results and an explanation about how they can/will be exploited.
%(No page limit per workpackage but report shall be concise and readable. Any duplication should be avoided).

\subsection{Objectives}
%List the specific  objectives  for  the  project  as  described  in  section  1.1  of  Part B   and describe  the  work  carried  out  during  the  reporting  period  towards  the  achievement  of  each listed objective. Provide clear and measurable details.

For reference, let us recall the aims of \ODK.
\begin{compactenum}[\textbf{Aim} 1:]
\item \label{aim:collaboration} Improve the productivity of
  researchers in pure mathematics and applications by promoting
  collaborations based on mathematical \textbf{software},
  \textbf{data}, and \textbf{knowledge}.
\item \label{aim:vre} Make it easy for teams of researchers of any
  size to set up custom, collaborative \emph{Virtual Research
    Environments} tailored to their specific needs, resources and
  workflows. The \VREs should support the entire life-cycle of
  computational work in mathematical research, from initial
  exploration to publication, teaching and outreach.
  % and bridge the gaps between
  % code, published results, and educational material.
\item \label{aim:sharing} Identify and promote best practices in
  computational mathematical research including: making results easily
  reproducible; producing reusable and easily accessible
  software; sharing data in a semantically sound way; exploiting and
  supporting the growing ecosystem of computational tools.
\item \label{aim:impact} Maximise sustainability and impact in
  mathematics, neighbouring fields, and scientific computing.
\end{compactenum}

Those aims are backed up in our proposal by nine objectives; we now
highlight our main contributions during this reporting period toward
achieving each of them.

\begin{compactenum}[\textbf{Objective} 1:]
\item\label{objective:framework} ``To develop and standardise an
  architecture allowing combination of mathematical, data and software
  components with off-the-shelf computing infrastructure to produce
  specialised \VREs for different communities.''

  This objective is by nature multilevel; achievements include:
  \begin{itemize}
  \item Collaborative workspaces: major \JupyterHub developments,
    see~\longtaskref{UI}{notebook-collab}; study and documentation of
    the \SMC architecture, see
    \longtaskref{component-architecture}{extract-smc};
  \item User interface level: enabling \Jupyter as uniform interface
    for all computational components; see
    \localtaskref{UI}{ipython-kernels}.
  \item Interfaces between computational or database components: short
    term: refactoring of existing ad-hoc interfaces, see
    \localtaskref{UI}{pari-python}; long term: investigation of
    patterns to share data, ontologies, and semantics uniformly across
    components, see
    \localtaskref{component-architecture}{interface-systems}, and
    Section~\ref{dksbases} about \WPref{dksbases}.
  \end{itemize}

\item\label{objectives:core} ``To develop open source core components
  for \VREs where existing software is not suitable. These components
  will support a variety of platforms, including standard cloud
  computing and clusters. This primarily addresses Aim~\ref{aim:vre},
  thereby contributing to Aim \ref{aim:collaboration}
  and~\ref{aim:sharing}.''

  At this stage, it has been possible to implement most of the
  required developments within existing components or extensions
  thereof. New software components includes the tools nbmerge, nbdiff and nbval
  (see \delivref{UI}{jupyter-test} and \delivref{UI}{jupyter-collab}).

\item \label{objective:community} ``To bring together research
  communities (e.g. users of \Jupyter, \Sage, \Singular, and \GAP) to
  symbiotically exploit overlaps in tool creation building efforts,
  avoid duplication of effort in different disciplines, and share best
  practice. This supports Aims~\ref{aim:collaboration},
  \ref{aim:sharing} and~\ref{aim:impact}.''

  We have organized or coorganized a dozen users or developers
  workshops (see~\localtaskref{dissem}{devel-workshops}) which brought
  together several communities. Some key outcomes include:
  \begin{itemize}
  \item Enabling \Jupyter as uniform interface for all computational
    components; see \localtaskref{UI}{ipython-kernels}.
  \item Sharing best practices for packaging and building
    containers;
    see~\localtaskref{component-architecture}{mod-packaging};
  \item A smooth collaboration between \JupyterHub and \SMC;
    see~\localtaskref{component-architecture}{extract-smc} and
    Section~\ref{infrastructures};
  \item Work on interfaces between systems; see
    \localtaskref{component-architecture}{interface-systems} and
    \localtaskref{UI}{pari-python};
  %\item Steps toward \localtaskref{UI}{sage-sphinx}
  \item Sharing best practices when using VRE's like \SMC or \Jupyter
    for research and education.
  \end{itemize}

\item \label{objective:updates} ``Update a range of existing open source
  mathematical software systems for seamless deployment and efficient
  execution within the VRE architecture of objective~\ref{objective:framework}.
  This fulfills part of Aim~\ref{aim:vre}.''

  Achievements include:
  \begin{itemize}
  \item Packaging efforts: Docker containers (delivered and
    regularly updated), Debian and Conda packages (beta); see
    \localtaskref{component-architecture}{mod-packaging}.
  \item Portability of \Sage and its dependencies on Windows (beta);
    see \localtaskref{component-architecture}{portability}.
  \item Integration of all the relevant mathematical software in the
    uniform \Jupyter user interface, in particular for integration in
    the VRE framework (delivered, ongoing); see
    \localtaskref{UI}{ipython-kernels}.
  \item Ongoing work in \WPref{hpc} to better support HPC in the
    individual mathematical software system and combinations thereof;
    see Section~\ref{hpc}.
  \end{itemize}

\item \label{objective:sustainable} ``Ensure that our ecosystem of
  interoperable open source components is \emph{sustainable} by
  promoting collaborative software development and outsourcing
  development to larger communities whenever suitable. This fulfills
  part of Aims~\ref{aim:sharing} and~\ref{aim:impact}.''

  Achievements include:
  \begin{itemize}
  \item Outsourcing of the \Sage user interface by migrating to
    \Jupyter (delivered); see \localtaskref{UI}{ipython-kernels};
  \item Refactoring \Sage's documentation build system to contribute
    many local developments upstream (\Sphinx)
    \localtaskref{UI}{sage-sphinx} (ongoing);
  \item Outsourcing and contributing upstream as \Python bindings the
    existing \Sage bindings for many computational systems (delivered,
    ongoing); see \taskref{UI}{pari-python}.
  \end{itemize}

\item \label{objective:social} ``Promote collaborative mathematics and
  science by exploring the social phenomena that underpin these
  endeavours: how do researchers collaborate in Mathematics and
  Computational Sciences?  What can be the role of \VREs?  How can
  collaborators within a VRE be credited and incentivised? This
  addresses parts of Aims~\ref{aim:sharing}, \ref{aim:collaboration},
  and~\ref{aim:vre}.''

  This objective is at the core of \WPref{social-aspects}; see
  Section~\ref{social-aspects} for details.
  Achievements include:
  \begin{itemize}
  \item Methodology, data, and tools needed to assess
    development models of academic open-source systems have been surveyed in
    \delivref{social-aspects}{social-datareport}.
  \item Game-theoretic aspects of ways to incentivise
  collaboration are studied---ongoing, also see \cite{Pavlou:2016:MCI:2936924.2936934}.
  \item Implementing in \Sage constructions from the database of
  strongly regular graphs by Andries Brouwer, see paper \cite{2016arXiv160100181C}.
  \end{itemize}


\item \label{objective:data} ``Identify and extend ontologies and
  standards to facilitate safe and efficient storage, reuse,
  interoperation and sharing of rich mathematical data whilst taking
  account of provenance and citability. This fulfills parts of
  Aims~\ref{aim:vre} and~\ref{aim:sharing}.''

  This objective is at the core of \WPref{dksbases}; see
  Section~\ref{dksbases} for details. 

%\TODO{Michael: flesh up}

\item \label{objective:demo} ``Demonstrate the effectiveness of Virtual
  Research Environments built on top of \ODK components for a
  number of real-world use cases that traverse domains. This addresses
  part of Aim~\ref{aim:vre} and through documenting best practices in
  reproducible demonstrator documents Aim~\ref{aim:sharing}.''

  Most of the work toward this objective is by nature planned for
  later in the project execution. Nevertheless, work has started e.g.
  toward the OOMMF demonstrator; see
  \localtaskref{dissem}{dissemination-of-oommf-nb-virtual-environment}
  \localtaskref{dissem}{dissemination-of-oommf-nb-workshops},
  \localtaskref{component-architecture}{oommf-python-interface}.

%Long term sustainability
\item \label{objective:disseminate} ``Promote and disseminate
  \ODK to the scientific community by active communication,
  workshop organisation, and training in the spirit of open-source
  software. This addresses Aim~\ref{aim:impact}.''

  This objective is at the core of \WPref{dissem}, with in particular
  22 meetings, developer and training workshops organized during the
  first reporting period. See Section~\ref{dissem} for details.
\end{compactenum}

\subsection{Explanation of the work carried per Work Package}
% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % %
\subsubsection{Work Package 1: Project Management}

%Explain, task per task, the work carried out in WP during the reporting period giving details of the work carried out by each beneficiary involved.

The general objectives of Work Package 1 are:

\begin{itemize}
\item{Meeting the objectives of the project within the agreed budget and timeframe and carrying out control of the milestones and deliverables}
\item{Ensure all the risks jeopardising the success of the projects are managed and that the final results are of good quality}
\item{Ensuring the innovation process within the project is fully aligned with the objectives set up in the Grant agreement}
\end{itemize}

\WPref{management} has been divided into three tasks. In the following, progress is reported with respect to these individual tasks.
Key results of WP1 are the following:

\begin{itemize}
\item{A Consortium Agreement signed by all partners}
\item{A kickoff meeting and three progress meetings organised}
\item{A successful interim review at month 9 with the grade 3/4}
\item{All milestones have been reached and deliverables achieved within the 1st Reporting Period timeframe}
\item{The setting up of a new version of the \ODK website, with a more end-user friendly interface}
\item{Success in the recruitment of highly qualified staff}
\item{Many successful workshops open to different communities organisedl}
\item{An Advisory Board and Quality Review Board set up to control the quality and the relevance of the software development relative to the end-user needs.}
\end{itemize}

Concerning the recruitment: the strategies we used (tayloring of the
positions according to the known pool of potential candidates, in
particular among previous related projects, strong advertisement, ...)
seem to have paid off, and we are really happy with the top notch
quality of our recruits. However, despite many steps to foster women
applications to apply (e.g. through reaching personally toward
potential candidates or including women in the committees), we had
almost no female candidate, and none made it to the short list. This
is alas unsurprising in the very tight segment of experienced research
software engineers for mathematics on temporary positions which is
highly gender imbalanced; this is nevertheless a failure.

\paragraph{\longtaskref{management}{project-finance-management}}

A consortium agreement was signed
between partners, stating precise rules about topics such as:
responsibilities, governance, access to results and the background
included.  This consortium agreement respects the state of mind of the opensource software communities and does not plan to commercially exploit the Intellectual Property produced in the frame of \ODK.

During the 1st Reporting Period, a kick-off meeting was organised in Orsay, followed by
3 progress meetings at which partners presented status reports, and
the steering committee got together.  The first progress meeting was
organised in St Andrews (January 2016), the second one was located
in Bremen (June 2016), and the last one in Edinburgh (January 2017). The second meeting coincided with the interim project
review, planned at month 9, where deliverables due by then were
presented to the Project Officer and Reviewers. The \ODK\ project was
granted the grade 3 out of 4 for this interim review: ``Good progress
(the project has achieved most of its objectives and technical goals
for the period with relatively minor deviations)''.

As planned in WP1, \site{PS} has been coordinating \ODK.  The \site{PS} relevant administration body, the D.A.R.I. (Direction des Activités de Recherche et de l'Innovation) and its finance service took care of the budget repartition in November-December 2015. The D.A.R.I., with Florence Bougeret, is also leading the Financial Statement of this reporting period. Due to the length of the first reporting period (18 months), the \site{PS} administration had decided to organise an internal and interim
breakdown of costs at the middle of the Reporting Period. This exercise aimed at raising potential questions
from partners early on and to make sure partners do follow the EC
rules for the eligibility of costs. The coordinator is therefore confident that all partners will be able to declare their costs for this Reporting Period.

\site{PS} also lead the amendment number AMD-676541-5 which added to the consortium \site{UG}, and is currently leading the amendment number AMD-676541-13 for the addition of two new sites: Friedrich-Alexander Universität Erlangen-Nürnberg and the new laboratory European XFEL. The addition of these three new partners is due to the moving of key permanent and/or non-permanent researchers who are key personnel for the success of \ODK. A collateral effect is the termination of \site{USO}'s participation to the consortium since no relevant staff for \ODK remained in this institution.


Concerning the communication, intern communication tools are described
in \longdelivref{management}{infrastructure}. As for external
communication the website for the project has been continuously
updated with new content, and virtually all work in progress is openly
accessible on the Internet to external experts and contributors (for
example through open source software on Github). A new version of the
website was released on the 15/03/2017. Its end-user friendly
interface and content makes it a tool not only for internal
communication but very much for dissemination and progress tracking by
the reviewers and the community.

Furthermore \longdelivref{management}{data-plan1} gave a first version of the management of data produced \ODK.

\paragraph{\longtaskref{management}{project-quality-management}}
The Quality Assurance Plan is described in detail in \longdelivref{management}{ipr}. We will describe the main points below.
\site{PS} launched a Quality Review Board which is chaired by Hans Fangohr. The four members of the board have a track record of caring about the quality of software in computational science. This board is responsible for ensuring key deliverables do reach their original goal and that best practice is followed in the writing process as well as in the innovation production process.
The board will meet after the end of each Reporting Period (RP), and before the Review following that RP.

The other structure supporting \ODK to ensure the quality of the
infrastructure is the End-user group that is composed of some members
of the Advisory Board. It is composed of seven members:

\begin{itemize}
\item{Lorena Barba from the George Washington University}
\item{Jacques Carette from the McMaster University}
\item{Istvan Csabai from the Eötvös University Budapest}
\item{Françoise Genova from the Observatoire de Strasbourg}
\item{Konrad Hinsen from the Centre de Biophysique Moléculaire}
\item{William Stein, CEO of SageMath Inc.}
\item{Paul Zimmermann from the INRIA}
\end{itemize}

This Advisory Board being composed of Academics and/or software
developers from different backgrounds, countries and communities, it
will be a strong asset to understand the needs of a variety of
end-user profiles. This Technical Report for the first Reporting
Period will be the first occasion to ask for their feedback on the
potential of the VRE and our strategy to promote its use around the
world. According to the Consortium Agreement, all Advisory Board
members have signed a lightweight Non-Disclosure Agreement with the
consortium.

\site{PS} has also been managing risks. In \delivref{management}{ipr}
all potential risks were assessed by the Coordinator at Month 12. Here
is a brief update on Risk 1 concerning the recruitment of highly
qualified staff. This risk has been globally well managed thanks to a
flexible workplan enabling adjustments in the timing of some tasks or
deliverables, and thanks to legal actions taken by the Coordinator to
allow key personnel, permanent or not, to remain in the Consortium
even though their positions changed. The addition of the three
partners is representative of these actions. The assessment for the
other risks remain valid at Month 18, and we refer to
\delivref{management}{ipr} for details.

\paragraph{\longtaskref{management}{project-innovation-management}}
\longdelivref{management}{imp1} was produced at month 18 and is mainly focused on: 

\begin{itemize}
\item{The open source aspect of the innovation produced within \ODK}
\item{The various implementation processes the project is dealing with}
\item{The strategy to match end-users needs with the promoted VRE}.
\end{itemize}

  The second version of the Innovation Management Plan will add content to explain all the
  innovations that the VRE is bringing to end-users. However the open source approach and
  the "by users for users" development process will not change.  One
  of the assessed risks for \ODK is to have different groups not forming effective teams. Put
  in other words, having developers of the different pieces of software working solely for
  the benefit of the programme they were initially working on and for. This risk is
  tackled by the Coordinator in order to reach the final goals of the VRE which are the
  unification of open source tools with overlapping functionality, the simplification of
  the tools for end-users without coding expertise, and the development of user-friendly
  interfaces. For this, the Scientific Coordinator is for example willfully pushing
  for joint actions and
  workshops. Even if it takes time to bend some of the old implementation processes and coding habits,
  more and actions are taken by \ODK participants from different communities to work
  together. More information on joint workshops can be found in the section below.

\clearpage
% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % %
\subsubsection{WorkPackage 4: User Interfaces}
%Explain, task per task, the work carried out in WP during the reporting period giving details of the work carried out by each beneficiary involved.

The objective of WorkPackage 4 is to provide modern, robust, and flexible user interfaces for
computation, supporting real-time sharing, integration with collaborative problem-solving,
multilingual documents, paper writing and publication, links to databases, etc. This work is focused primarily around the \Jupyter project, in the form of:

\begin{itemize}
    \item Enhancing existing \Jupyter tools (\taskref{UI}{notebook-collab})
    \item Building new tools in the \Jupyter ecosystem (\taskref{UI}{notebook-verification}, \taskref{UI}{notebook-collab}, \taskref{UI}{vis3d})
    \item Improving the use of \ODK components in \Jupyter and \Sage environments (\taskref{UI}{ipython-kernels}, \taskref{UI}{sage-sphinx}, \taskref{UI}{dynamic-inspect}, \taskref{UI}{pari-python})
    \item Demonstrating effectiveness of WorkPackage 4 results in specific scientific applications (\taskref{UI}{cfd-vis}, \taskref{UI}{oommf-py-ipython-attributes}, \taskref{UI}{oommf-nb-ve}, \taskref{UI}{oommf-tutorial-and-documentation})
    \item Work on Active Documents, which have some goals in common with \Jupyter notebooks (\taskref{UI}{structdocs}, \taskref{UI}{mathhub})
\end{itemize}

Progress across WorkPackage 4 has been highly successful thus far.
Several new software packages have been created,
and existing projects in the \Sage and \Jupyter communities have been improved toward sustainability to serve \ODK objectives.

\paragraph{\longtaskref{UI}{notebook-collab}}

\longdelivref{UI}{jupyter-collab} has been delivered in the form of a new \Jupyter package, nbdime,
enabling easier collaboration on notebooks via version control systems such as Git. This project
was presented at the major Scientific Python conferences SciPy US in July 2016 and EuroSciPy in August 2016,
and has been met with enthusiasm from the scientific Python community for its prospect of solving a
longstanding difficulty in working with notebooks.

The \JupyterHub package has received significant updates and further development, specifically a
\emph{Services extension point}, which enables shared workspaces for collaboration, a step on the path
toward real-time collaboration for \delivref{UI}{jupyter-live-collab}.
  \ednote{M0-24: this should be completed by now}


\paragraph{\longtaskref{UI}{structdocs}}

Active structured documents are a common need with many use cases, and has many potential solutions.
Requirements and venues for collaborations were explored through discussions between participants,
in particular at the occasion of \href{https://wiki.sagemath.org/days77/}{Sage Days 77} workshop
(see the \href{https://wiki.sagemath.org/days77/live-structured-documents}{notes}), and June's ODK
meeting in Bremen. The findings were reported in \longdelivref{UI}{adstex}.

In \longdelivref{UI}{adcomp}, We have presented a general framework for in-situ computation in active documents. This is
a contribution towards using mathematical documents -- the traditional form mathematicians
interact with mathematical knowledge and computations -- as a user interface for a
mathematical virtual research environments. This is also a step towards integrating the
two main UI frameworks under investigation in the \ODK project: \Jupyter notebooks and
active documents -- see~\delivref{UI}{adstex} -- at a conceptual level. The system is
prototypical at the moment, but can already be embedded into active documents via a
Javascript framework and is ready for use in the \ODK project. The user interface and \SCSCP
connections are quite fresh and need substantial testing and optimizations.
  \ednote{M0-24: this should be completed by now}


\paragraph{\longtaskref{UI}{mathhub}}

One of the most prominent features of a virtual research environment (VRE) is a unified user interface. The \ODK approach is to create a mathematical VRE by integrating various pre-existing mathematical software systems. There are two approaches that can serve as a basis for the \ODK UI: computational notebooks and active documents. The former allows for mathematical text around the computation cells of a real-eval-print loop of a mathematical software system and the latter makes semantically annotated documents active.

\MathHub is a portal for active mathematical documents ranging from formal libraries of theorem provers to informal – but rigorous – mathematical documents lightly marked up by preserving LaTeX markup.

As the authoring, maintenance, and curation of theory-structured mathematical ontologies and the transfer of mathematical knowledge via active documents are an important part of the \ODK VRE toolkit, the editing facilities in \MathHub play a great role for the project,
as delivered in \longdelivref{UI}{mathhub-editing}.
  \ednote{M12-46: just extend the progress}

\paragraph{\longtaskref{UI}{oommf-nb-ve}} % M25-28

  \ednote{M25-28: this should be completed by now}


\clearpage
% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % %
  \subsubsection{WorkPackage 6: Data/Knowledge/Software-Bases}
  \label{dksbases}
%Explain, task per task, the work carried out in WP during the reporting period giving details of the work carried out by each beneficiary involved.
  In a series of workshops (September 2015 in Paris, January 2016 in St. Andrews, June
  2016 in Bremen, and July 2016 in Bia{\l}ystok) the participants working on
  \WPref{dksbases} met and discussed the topic of integrating the \pn systems into a
  mathematical VRE toolkit.  Key results were
  \begin{compactitem}[\bf R1.]
  \item the observation that \emph{knowledge-aware interoperability of software and
      database-systems is the most critical objective} for \WPref{dksbases} in the \pn
    project.
  \item the consensus that this can be achieved by \emph{aligning the mathematical
      knowledge underlying the various systems}.
  \end{compactitem}
  This requires explicitly representing the three aspects of math VREs -- Data (D),
  Knowledge (K), and Software (S) -- and basing computational services and inter-system
  communication on a joint \DKS-base. These results are engrained in the
  ``Math-in-the-Middle'' (MitM) paradigm~\cite{DehKohKon:iop16}, which gives a
  representational basis for specification-based interoperability of mathematical software
  systems -- so that they can be integrated in a VRE toolkit. In the MitM paradigm, the
  mathematical knowledge underlying the VREs (K) and the interface for each
  system (S) are represented as modular theory graphs in the OMDoc/MMT format. For the
  data aspect (D) we have extended the concept of OMDoc/MMT theories to ``virtual
  theories'' that allow the practical management of possibly infinite theories,
  see~\cite{ODK-D6.2} for details.

  A side effect of \textbf{R1.} is that the verification aspects anticipated in the
  proposal are non-critical to the \pn project. In particular the value of the exemplary
  verification of an LMFDB algorithm in \taskref{dksbases}{data-LMFDB} and
  deliverable~\longdelivref{dksbases}{lfmverif} seems highly questionable.

  Correspondingly we have refined the notion of ``triformal theories'' coined in the
  proposal into the concept of ``\DKS theory graphs'', which can be formalized and
  implemented without the extension of OMDoc/MMT for ``biformal theories'' anticipated in
  the proposal.

  Through the concerted effort of the WP6 participants, we have been able to implement
  this design into prototypical \DKS base patterned after the MitM paradigm with virtual
  theories, generating interface theory graphs for the \GAP and \Sage systems and
  integrating the \LMFDB system via the MitM codec architecture described
  in~\cite{ODK-D6.2}. Based on this, we were able to generically integrate \GAP, \Sage,
  and \LMFDB via the standardised SCSCP protocol~\cite{HorRoz:ossp09} -- essentially
  remote procedure calls with OpenMath Objects. This case study shows the feasibility of
  the initial design of \DKS-bases; further investigations and the integration of
  additional systems will determine the practicability.

  \paragraph{\longtaskref{dksbases}{data-assessment}}
  This task was directly addressed in the \WPref{dksbases} workshops in the first year.
  \ednote{done}
  
  \paragraph{\longtaskref{dksbases}{data-triform}}
  For this task we have specified and implemented the concept of virtual theories that can
  contain large -- theoretically even infinite -- numbers of declarations and objects
  (e.g. 3.5M declarations in the LMFDB data base for elliptic functions) in
  OMDoc/MMT. Virtual theories are characterized by the fact that they are too large to
  keep in main memory of the MMT System and have to be partially and lazily imported from
  an external data store. We have reported on the results in \longdelivref{dksbases}{design}.
  \ednote{done}
  
  \paragraph{\longtaskref{dksbases}{data-design}}
  This task was directly addressed in the \WPref{dksbases} workshops in the first year and
  has led to the design and implementation in \delivref{dksbases}{design}. The design has
  been published at an international conference (CICM 2016) and has now been implemented.
  \ednote{done}
  
  \paragraph{\longtaskref{dksbases}{data-foundationCAS}}
  In the course of the deliberations in the \WPref{dksbases} workshops we saw a shift from
  the development of computational foundations and verification towards API/Interface
  function specifications to enable semantic system interoperability via the
  Math-in-the-Middle Ontology. Consequently, emphasis has changed to the generation of API
  Content Dictionaries (API CDs) for \GAP, \LMFDB and \Sage. We have a prototypical set
  of \GAP and \Sage Content Dictionaries in OMDoc/MMT form (\GAP: 218 CDs, 2996 entries;
  \Sage: 512 CDs, 2800 entries overall). The computational foundations exist but are rather
  more simple than originally anticipated. Much of the functionality has been offloaded to
  the SCSCP standard -- remote procedure call with OpenMath representations of the
  mathematical objects -- developed in the SCIENCE Project. As a direct consequence of the
  work in \pn the OpenMath Society has promoted the \SCSCP protocol into as an OpenMath
  Standard.
  
  Conversely, the \GAP and \Sage CDs are rather more elaborated than anticipated in the
  proposal, and thus form a viable basis for alignment with the MitM Ontology.
  \ednote{M12-48: just extend the progress a little}

  \paragraph{\longtaskref{dksbases}{research-categories}}
  This task has just started, and the MitM architecture developed in \WPref{dksbases} has
  given important impulses to make the code infrastructure of \Sage and \GAP more
  declarative (knowledge-based). In \Sage, the category infrastructure was validated (it
  seems to be the right level of abstraction to generate API CDs) and extended; further
  annotations were added into the \Sage code base and accepted by the
  community. % TODO: not yet
  In \GAP,
  the facilities for ``constructors'' was reformed, extended by an infrastructure for
  documentation and static typing/type analysis, and the code base refactored for 6000
  constructors. Similarly, the online documentation subsystem for \GAP has been regularized
  and synchronized with the constructor level. Already at this early stage of the task the
  new ``knowledge-based perspective'' has revealed a plethora of errors and inefficiencies
  and has contributed to the code quality in both systems. 
  \ednote{M12-48: just extend the progress a little}

  \paragraph{\longtaskref{dksbases}{data-OEIS}}
  For the OEIS case study we have parsed the OEIS data and converted it into OMDoc/MMT
  theories (ca. 260,000). The main problem solved here was to parse the formula section
  (generating functions, relations between sequences, \ldots): they are represented in a
  human-oriented ASCII syntax, which is highly irregular, ill-separated from surrounding
  text, and interpunctuation. Nonetheless we managed to recover ca. 90\% of the formulae
  and 
  \begin{compactenum}[\em i\rm)]
  \item generate ca. 100,000 new relations between sequences and 
  \item provide a package of ca. 50,000 generating functions to Sage (which can be used
    e.g. in the FindStat database). 
  \end{compactenum}
  We use this theory set to test the functionalities of ``virtual theory graphs'' (one
  step up from the ``virtual theories'' developed in \taskref{dksbases}{data-design}).
  \ednote{done}

  \paragraph{\longtaskref{dksbases}{data-findstat}}
  \ednote{18-30: This should be almost completed by now.}

  \paragraph{\longtaskref{dksbases}{data-LMFDB}}
  Work on this task has started. Given the concept of virtual theories developed in
  \taskref{dksbases}{data-triform} the task is to build a database connector that converts
  the MongoDB tables in LMFDB into ``mathematical objects''.  We have identified the
  problems -- e.g. that objects are reduced to ad-hoc database records: for instance
  elliptic curves are represented as a quadruple of integers, where the last is
  represented as a string of digits as the range of MongoDB integers is too small. We have
  developed an architecture of language-specific Codecs which mitigate these problems in a
  knowledge-centered way (Codecs are OMDoc/MMT objects) that interpret database records as
  OMDoc/MMT objects and can thus be used populate virtual theories.  The next step is to
  extend the existing MMT query language by a query compiler into the underlying data
  store system; concretely to MongoDB underlying LMFDB for \taskref{dksbases}{data-LMFDB}.
  \ednote{M12-48: just extend the progress a little}

  \paragraph{\longtaskref{dksbases}{mws}}
  Work on the first work phase has proceeded as planned and has culminated in
  \longdelivref{dksbases}{mws}. The second work phase on this task presupposes the
  Math-in-the-Middle ontology (as we call it now.) Where we already have that, e.g. for
  the OEIS (see \taskref{dksbases}{data-OEIS}) we already have a running search
  engine. The main problem here is to devise intuitive query interfaces and integrate them
  into the \pn VRE framework.
  \ednote{M3-42: just extend the progress a little}


% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % %

  \section{Deviations from Annex 1 and Annex 2 (if applicable)}
  % Explain the reasons for deviations from the DoA, the consequences and the proposed
  % corrective actions

There was no major deviation from Annex 1. All deliverables due for M18 were delivered
  within the timeframe of the 1st Reporting Period, and all milestones in this period were
  reached.  Slight modifications were brought to \WPref{hpc} and \WPref{dksbases} and were
  included in the AMD-676541-13.


  Some deliverables names in \WPref{hpc} were modified
  \begin{enumerate}
  \item \delivref{hpc}{MPIRsuperoptimiser} from "Extend the existing assembly
    superoptimiser for AVX and upcoming Intel processor extensions for the MPIR library"
    to "Write an assembly superoptimiser supporting AVX and upcoming Intel processor
    extensions for the MPIR library and optimise MPIR for modern processors"
  \item \delivref{hpc}{QS-linalg} from"Parallelise the relation sieving component of the
    Quadratic Sieve and implement a parallel version of Block-Wiederman linear algebra
    over GF2 and the triple large prime variant" to "Parallelise the relation sieving
    component of the Quadratic Sieve and implement a parallel version of Block-Wiederman
    linear algebra over GF2 and implement large prime variants"
  \item \delivref{hpc}{FFT} from "Take advantage of multiple cores in the matrix Fourier
    Algorithm component of the FFT for integer and polynomial arithmetic, and include
    assembly primitives for SIMD processor instructions (AVX, Knight's Bridge, etc.),
    especially in the FFT butterflies" to "Take advantage of multiple cores in the matrix
    Fourier Algorithm component of the FFT for integer and polynomial arithmetic, and
    include assembly primitives for SIMD processor instructions (e.g. AVX, etc.),
    especially in the FFT butterflies"
  \end{enumerate}

  Some titles of the \WPref{dksbases} deliverables were modified to respect the change in
  priority on system interoperability and distributed computing in the
  ``Math-in-the-Middle'' Paradigm over algorithm verification:
  \longdelivref{dksbases}{psfoundation}, \longdelivref{dksbases}{pssem}, and
  \longdelivref{dksbases}{lfmverif}

  \subsection{Tasks}

No deviation from the tasks. All workplan is on time at the end of the Reporting Period.
% Include explanations for tasks not fully implemented, critical objectives not fully
  % achieved and/or not being on schedule.  Explain also the impact on other tasks on the
  % available resources and the planning

  \subsection{Use of resources}
  % Include explanations on deviations of the use of resources between actual and planned
  % use of resources in Annex 1, especially related to person-months per work package.

All changes of use of resources were included in the two amendments previously cited and were
due to modifications in the personnel. Those adjustments were due to the change of positions
of some key \ODK participants and expected difficulties in hiring planned
staff. The work plan has been updated accordingly, with no foreseeable
impact on the achievement of tasks, deliverables, and milestones.

  \subsubsection{Unforeseen subcontracting (if applicable)}

Not applicable.

  \subsubsection{Unforeseen use of in kind contribution from third party against payment or
    free of charges (if applicable)}

 Not applicable. 

\newpage
\printbibliography

\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:

%  LocalWords:  maketitle githubissuedescription newpage newcommand xspace Jupyter dissem
%  LocalWords:  tableofcontents visualizations composability itemize analyzed taskref hpc
%  LocalWords:  dissemination-of-oommf-nb-virtual-environment taskref dissem taskref pn
%  LocalWords:  dissemination-of-oommf-nb-workshops dissem ibook taskref taskref taskref
%  LocalWords:  oommf-python-interface oommf-py-ipython-attributes taskref oommf-nb-ve
%  LocalWords:  oommf-tutorial-and-documentation taskref oommf-nb-evaluation taskrefs ipr
%  LocalWords:  delivref pythran-typing sage-paral-tree subsubsection organized Dagstuhl
%  LocalWords:  co-organized organization modularization ipython-kernels nbdime Pythran
%  LocalWords:  jupyter-collab ystok WPref dksbases compactitem emph WPtref DehKohKon mws
%  LocalWords:  iop16 textbf tasktref lfmverif triformal formalized biformal ossp09 Dima
%  LocalWords:  hline Marijan Pilorget Pierrick Kruppa Dehaye Dehaye's Dehaye's Alnaes
%  LocalWords:  Konovalov Hinsen github printbibliography oldmaketitle Bougeret Carette
%  LocalWords:  Csabai Piwik centralized Cython organizing EuroScyPy nbgrader nbgrader
%  LocalWords:  specialized Codecov joommf-news Micromagnetic Fruehjahrstagung Intermag
%  LocalWords:  ibook2 Sagecell adcomp index-librorum-salvificorum scscp-sage nbval numpy
%  LocalWords:  ipython-kernel-sage notebook-collab jupyter-live-collab pytest adstex
%  LocalWords:  optimizations mathhub visualization ipyvolume cfd-vis summarized ouput
%  LocalWords:  tightlist cysignals Parallelization vectorize super-optimizer vectorized
%  LocalWords:  paralellization LinBox-algo quasiseparable hpc-mpir MPIRsuperoptimiser
%  LocalWords:  optimizing pythran:cython pythran:sage vectorization leftrightarrow Cilk
%  LocalWords:  DehKohKon:iop16 HorRoz:ossp09 characterized synchronized ldots Dmitrii
%  LocalWords:  interpunctuation Pasechnik isocial-decisionmaking social-tracaddon pssem
%  LocalWords:  social-gametheoretic superoptimiser Block-Wiederman psfoundation oommfc
%  LocalWords:  oommfnb-vre-deliver
