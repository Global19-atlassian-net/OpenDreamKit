\section*{History of changes}

\subsection*{Grant agreement number 676541, June 2015}
\thispagestyle{empty}

\begin{enumerate}
\item Updated participant acronyms for consistency with the EU portal.

\item Resources for UPSud: reinstated PhD position that was planned in
  the budget but went missing in the proposal document: +36PM for UPSud.
\item Reinstated related task T6.5 ``Knowledge-based code infrastructure''.
  +33PM for WP6
\item Minor update to the involvement for Pons, Hivert, Lelièvre at
  UPSud for consistency with the submitted budget (-1PM each).
\item Minor update to the involvement for Gouarin at CNRS to make up
  for a higher salary than expected (-1PM); adapted accordingly WP2
  (-1PM).
\item Where relevant: updated PM information according to the above.

\item WP2: Added mention of our participation to the European
  E-Infrastructure concertation activities.

\item Updated resources to be committed: audit costs should be in the
  direct costs, not subcontracting.

\item Updated the risk table to address the reviewers comments.

\item As suggested by the project officer, reduction of the number of
  deliverables (typically by merging together intermediate
  check-points into the corresponding final deliverable):
  \begin{itemize}
  \item Suppressed irrelevant D1.1. (Consortium agreement).
  \item Removed accidently duplicated deliverables:
    \begin{itemize}
    \item D2.10 Course material on using OpenDreamKit in data science;
    \item D2.12, D2.13 indexing service;
    \item D2.20 Demonstrator: Interactive lecture notes and marking
      systems based on OpenDreamKit.
    \end{itemize}
  \item Merged together D1.5 and D1.8 (Data Management Plan V2,V3)
  \item Merged D2.2, D2.7, D2.14, D2.19, D2.25, and D2.26 (community
    building reports: impact of development and training workshops)
    into a single yearly report.
  \item Merged together D2.3, D2.15, D2.23, and D2.24 (Demonstrators:
    Problems in Physics with Sage v1,2 , Computational Mathematics for
    Engineering).
  \item Merged together D2.8 (Community-curated indexing tool (open
    source)) and D2.9 (Community-curated indexing service for
    OpenDreamKit).
  \item Merged D2.16 (Micromagnetic VRE code and documents source
    online), D3.4 (Python interface to OOMMF completed), D4.8
    (Micromagnetic VRE software completed), D4.11 (Micromagnetic VRE
    tutorial and documentation notebooks), and D4.14 (Demonstrator
    online portal available) into a single deliverable D2.13
    (Micromagnetic VRE completed and online).
  \item Merged D3.1 and D3.9 (one-click install Sage distribution for
    Windows with Cygwin 32bit/64bit).
  \item Merged D5.1 (Facility to compile \Pythran compliant user
    kernels and sage code) and D5.3 (Improve \Pythran runtime support
    to automatically take advantage of multi-cores and SIMD
    instruction units and use it in CYTHON); also switched lead info
    for D5.3 and D5.5 (Improve PYTHRAN typing to improve error
    information).
  \item Merged D5.9 (Report on development of designs for the GAP
    developments – parallel library, interacts to standard
    infrastructure and CYTHON-like extensions) and D5.15
    (Implementations of the GAP developments, ready for release) into
    D5.18 (Final report and evaluation of the GAP developments).
  \item Merged D6.1 (DKS base survey and Requirements Workshop Report)
    and D6.3 (initial DKS base Design).
  \item Merged D6.4 (Design of Triform (DKS) Theories
    (Specification/RNC Schema/Examples)) and D6.5 (Implementation of
    Triform Theories in the MMT API).
  \item Merged D6.6 (LMFDB deep modelling: Fragment Identification and
    Initial Model Design), D6.7 (Heuristic Parser for the OEIS Import,
    Cross Validation of DKS-Model), D6.8 (Conversion of existing and
    new Databases to unified interoperable System).
  \item Merged D6.10 (Full-text search (Formulae + Keywords) over
    Notebooks) and D6.12 (Formula search in CAS programs and Software
    Modules).
  \item Merged D7.1, D7.4, D7.7 (Reports on relevant research in
    sociology of mathematics and lessons for design of OpenDreamKit
    VRE, parts I, II, III).
  \end{itemize}
\end{enumerate}
\clearpage
\thispagestyle{empty}
\subsection*{1st amendment of the Grant Agreement, June 2016}

\begin{enumerate}
\item Addition of Ghent University (UGent) to the list of beneficiaries
\item Change of lead beneficiary from UPSud to UGent for D4.13
\item Addition of UGent the list of partners concerned by tasks: T1.1, T1.2, T1.3, T2.3, T3.1, T3.2, T3.3, T3.6, T3.7, T4.1, T4.4, T4.5, T4.12
\item Change of participation to WP1: 26.5 PM for UPSud and 1.5 PM fpr UGent
\item Change of participation to WP2: 9 PM for UPSud and 1 PM for UGent
\item Change of participation to WP3: 50 PM for UPSud and 14 PM for UGent
\item Change of participation to WP4: 12 PM for UPSud and 14 PM for UGent
\item Allocation of resources to UGent following their addition
\item Equivalent reduction of UPSud's resources following the addition of UGent
\item Reshuffling of resources allocated to JacobsUni following the
  organisation of an extra workshop (no change to their total budget)
\item Some deliverables are postponed, mostly due to difficulties in the recruitment process: D2.13, D3.2, D4.2, D5.2
\item Some tasks are postponed, mostly due to difficulties in the recruitment process: T2.7, T2.8, T2.9, T3.8, T4.11, T4.13, T4.14, T7.4
\item Stripped erroneously included pages about WP7 (page numbered 54
  and 55 between 29 and 31); inserted missing page 30 about
  milestones.
\item Fixed minor typos in the texts.
\end{enumerate}
\clearpage
\thispagestyle{empty}
\subsection*{2nd amendment of the Grant Agreement, March 2017}
\ednote{insert month when ready}
\begin{enumerate}
\item Accomodate the move of the KWARC Group (Prof Michael Kohlhase) from \site{JU} to
  \site{FAU}.
\begin{enumerate}
\item Addition of Friedrich Alexander University Erlangen/Nuremberg (\site{FAU}) to the
  list of beneficiaries.
\item \WPref{management}: moved 1 PM from \site{JU} to \site{FAU}.
\item \WPref{dksbases}: Made \site{FAU} lead of \WPref{dksbases} (even though JU had been
  for the initial phase), moved 34 PM and the lead of all deliverables after month 15 from
  \site{JU} to \site{FAU}.
\item \WPref{UI}: moved 8 PM and the lead of all deliverables after month 15 from
  \site{JU} to \site{FAU}.
\item Resources (Section~\ref{sec:resources}): moved the respective resources from
  \site{JU} to \site{FAU}.
\end{enumerate}
\item \WPref{dksbases}: adapted the titles of \delivref{dksbases}{psfoundation},
  \delivref{dksbases}{pssem}, and \delivref{dksbases}{lfmverif} to respect the change in
  priority on system interoperability and distributed computing in the
  ``Math-in-the-Middle'' Paradigm over algorithm verification.
\item Changed the lead of \delivref{component-architecture}{semantic-interface-sage-gap}
  from \site{UO} to \site{PS}, and the lead of \delivref{dksbases}{lfmverif} from \site{ZH} to \site{FAU}
\item Changed the lead of \site{USH} from Neil Lawrence to Michael Croucher, and the breakdown
of Person-Month to be used by this site (within the frame of the 360,00.00€ of their Personnel Costs)
\item Typo fix: \delivref{UI}{ipython-kernels} was meant to be due M24, not M14.
\item Changed the lead PI of \site{UO} from Ursula Martin to Dmitrii Pasechnik
\item Changed the lead PI of \site{SR} from Hans-Peter Langtangen to Martin A. Sandves
\item \site{UJF} changed name from Universite Joseph Fourier to Universite Grenoble Alpes
\item \site{PS} changed its PhD position of 36 PM into a Postdoc position of 24 PM
  Reduced accordingly \site{PS}'s involvement in PM's in \WPref{dksbases}.
\item Consistency fix for \site{PS}: adjusted involvement in \WPref{component-architecture} from 50~PM to 46~PM and reduced accordingly the PM's
  requested in \site{PS}'s description for research engineers: upon
  the transfer to UGent, those figures had been incorrectly updated in
  the 1st amendment.
\item Accommodate the move of Hans Fangohr from \site{USO} to
  \site{XFEL}.
\begin{enumerate}
\item Addition of European XFEL GmbH/Schenefeld (\site{XFEL}) to the
  list of beneficiaries.
\item \WPref{management}: moved 1 PM from \site{USO} to \site{XFEL}.
\item \WPref{dissem}:  Moved 15 PM and the lead of all tasks to be
  completed after month 24 and the deliverable \delivref{dissem}{oommfnb-vre-deliver} from
  \site{USO} to \site{XFEL}.
\item \WPref{UI}: moved 5 PM from \site{USO} to \site{XFEL}.
\item \WPref{social-aspects}: moved deliverable D7.8 and 6 PM from
  \site{USO} to \site{XFEL}. % D7.8 is explicitly written here because
                             % it is removed in the next proposal
                             % change and we cannot refer to it
                             % anymore (MB).

\item Resources (Section~\ref{sec:resources}): moved the respective resources from
  \site{USO} to \site{XFEL}.

\item Removed 4,000 EUR for open access publication charges from
  Southampton (were by mistake omitted in submission and are thus not available).
\end{enumerate}


\item  Clarification of the CNRS site situation
\begin{enumerate}
\item Added S\'ebastien Labb\'e as a member of CNRS and removed 18 PM for
  the recruited engineer.
\item Clarification of PM repartition between CNRS and its third
  party University of Bordeaux
Removed 28,198 EUR from "Other goods and services" from
  CNRS in order to take into account modifications in Person-Months
  involved in the project. This will have no impact on the deliverables
  in which CNRS is involved.
\end{enumerate}

\item Postponment of deliverables within the first Reporting Period
\begin{enumerate}
\item \delivref{UI}{pari-python-lib1} from M6 to M18
\item \delivref{UI}{mathhub-editing} from M12 to M18
\item \delivref{hpc}{pythran-typing} from M12 to M18
\end{enumerate}

\item Some deliverables names in \WPref{hpc} were modified
\begin{enumerate}
\item \delivref{hpc}{MPIRsuperoptimiser} from "Extend the existingassembly superoptimiser
for AVX and upcoming Intel processor extensions for the MPIR library" to "Write an assembly
superoptimiser supporting AVX and upcoming Intel processor extensions for the MPIR library
and optimise MPIR for modern processors"
\item \delivref{hpc}{QS-linalg} from"Parallelise the relation sieving component of the
Quadratic Sieve and implement a parallel version of Block-Wiederman linear algebra over GF2
and the triple large prime variant" to "Parallelise the relation sieving component of the
Quadratic Sieve and implement a parallel version of Block-Wiederman linear algebra over GF2
and implement large prime variants"
\item \delivref{hpc}{FFT} from "Take advantage of multiple cores in the matrix Fourier Algorithm
component of the FFT for integer and polynomial arithmetic,and include assembly primitives for
SIMD processor instructions (AVX, Knight's Bridge, etc.), especially in the FFT butterflies" to
"Take advantage of multiple cores in the matrix Fourier Algorithm component of the FFT for
integer and polynomial arithmetic,and include assembly primitives for SIMD processor
instructions (e.g. AVX, etc.), especially in the FFT butterflies"
\end{enumerate}

\end{enumerate}

\clearpage
\thispagestyle{empty}
\subsection*{Work Plan revisions, Fall 2017}
\ednote{insert month when ready}

Following feedback from project officer and reviewers at the 18 month
project review, we are proposing the following revisions:
\begin{enumerate}
\item Reduction of number of deliverables:
  \begin{itemize}
  \item Merged \delivref{dissem}{workshops-2} into \delivref{dissem}{workshops-3}.
  \item Merged \delivref{dissem}{ibook2} into \delivref{dissem}{ibook1}.
  \item Merged together \delivref{dissem}{datascience-course},
    \delivref{dissem}{lecture-notes} and \delivref{dissem}{notebook-repo} into \delivref{dissem}{IntroODK}

  \item Merged \delivref{component-architecture}{sage-repository} into \delivref{component-architecture}{sage-distribution}.

  \item Merged \delivref{UI}{cfd-vis} into \delivref{UI}{vis3d}, to be delivered in M36.

  \item Merged \delivref{hpc}{cython-pythran-cilk} into \delivref{hpc}{sage-HPCcombi}.
  \item Merged \delivref{hpc}{LinBox-DSL} into \delivref{hpc}{LinBox-distributed}.
  \item Merged \delivref{hpc}{pari-hpc1} into \delivref{hpc}{pari-hpc2}.

  \item Merged \delivref{dksbases}{conv} into \delivref{dksbases}{psfoundation}.
  \item Merged \delivref{dksbases}{lfmint} into \delivref{dksbases}{psfoundation} and
    \delivref{dksbases}{lfmverif}.
  \item Merged
    \delivref{component-architecture}{semantic-interface-sage-gap} and
    \delivref{dksbases}{pssem} into \delivref{dksbases}{lfmverif}.
  \item Merged \delivref{dksbases}{notebooksearch} into \delivref{dksbases}{nbad-search}.

  \item Merged \delivref{social-aspects}{oommf-nb-evaluation} into
    \delivref{dissem}{oommfnb-vre-deliver}.%, lead by \site{XFEL}.
  \end{itemize}

\item Integration of WP7 activities into other WPs:
  \begin{itemize}
 \item Canceled Objective 6 of \TheProject 
 \item Integrated T7.4 in
    \taskref{dissem}{dissemination-of-oommf-nb-workshops}, lead by
    \site{XFEL}. Merged task is now
    \taskref{dissem}{dissemination-of-oommf-nb-workshops}.
  \item Canceled \taskref{social-aspects}{social-input} and associated deliverable \delivref{social-aspects}{social-report-three}, and moved PM to WP3.
  \item Canceled \taskref{social-aspects}{social-output} and associated deliverables \delivref{social-aspects}{jupyter-comment} , \delivref{social-aspects}{social-poster} and \delivref{social-aspects}{social-publishing-report} and moved PM to \taskref{dissem}{project-intro}.
  \item Canceled \taskref{social-aspects}{isocial-decisionmaking}, cancelled deliverables \delivref{social-aspects}{social-tracaddon} and \delivref{social-aspects}{social-gametheoretic}, and moved PM to WP3 and WP5.
  \end{itemize}
  The addition of manpower to WP3 and WP5 will enable an extension of
  the scope of the tasks
  \taskref{component-architecture}{portability},
  \taskref{component-architecture}{mod-packaging}, and
  \taskref{hpc}{pythran}.
  Meanwhile, WP2 has proved to be very successful and \TheProject is
  gaining momentum. The addition of manpower to this WorkPackage will
  allow the consortium to answer the increasing demand for
  collaboration and dissemination.


\item Work package specific milestones:
  \begin{itemize}
  \item Introduced one milestone at month 42 for
    \WPref{component-architecture}, two milestones at months 36 and 48
    for \WPref{UI}, one milestone at month 36 for \WPref{hpc} and two
    milestones at month 36 and 42 for \WPref{dksbases}.
  \item Removed redundant general milestone at month 36.
  \end{itemize}
\item Complete rework of the Key Performance Indicators to better
  monitor the progress, impact, and results:
  \begin{itemize}
  \item Four Indicators linked to the four project aims;
  \item Focus on success stories and qualitative indicators in general;
  \item Reusable, meaningful, and realistic quantitative indicators.
  \end{itemize} 
\item Miscellaneous
  \begin{itemize}
  \item Canceled \delivref{component-architecture}{personal-smc} as
    not relevant anymore: work has been done by the community. The
    corresponding workload has been reallocated, mostly to
    WorkPackage~\WPref{dissem} which needed more resources after the cancellation of \WPref{social-aspects}.
  \item \delivref{UI}{jupyter-import} moved from M24 to M36 to incorporate results
    from workshop on live structured documents.
  \item \taskref{UI}{notebook-collab} expanded from M1-M24 to M1-M48 (the full duration of the grant)
    to reflect the ongoing nature of the work. Activity, total work,
    and deliverables are unchanged.
  \item Typo fix in deliverable title for \delivref{management}{ipr2}
    (reports for year 2 and 3, not just year 2).
  \item Modification of lead for WP6: from Jacobsuni to FAU
  \item Remove the HPC conference in Bordeaux in favor of more dissemination schools and workshops (no modification of resources)
  \item Reduction of 16 PM for UPSUD due to points 9 and 10 of the second Amendment. This modification had accidently not been implemented before in the part A of the Annex 1, therefore this update of the Annex 1 was necessary.
  \item Termination of Jacobsuni on 17/01/2018: all relevant staff for the project was moved to FAU and Université Paris-Sud (originally planned on 31/12/2017 but was postponed to comply with the date of official submission of the amendment on the portal)
  \item Termination of UZH on 17/01/2018: all activity planned for the partner has been accomplished and resources were spent (originally planned on 31/12/2017 but was postponed to comply with the date of official submission of the amendment on the portal)
  \end{itemize}
\end{enumerate}
\clearpage

\thispagestyle{empty}
\subsection*{4th amendment to the Grant Agreement, June 2018}

\begin{enumerate}
\item Addition of University of Leeds (UNIVLEEDS) to the list of beneficiaries starting from the 01/05/2018
\item Termination of the University of Sheffield from \TheProject due to the reallocation of staff and all remaining resources to UNIVLEEDS
\item Reallocation of remaining resources that were not used by USHD to UNIVLEEDS
\item Change of lead beneficiary for \delivref{dissem}{IntroODK} from Sheffield to Leeds
\item Update text for Task 3.6 to explain the explain the change of name from the component SAGEMATHCLOUD to 'CoCalc'
\end{enumerate}

\clearpage
\setcounter{page}{1}

\thispagestyle{empty}
\subsection*{5th amendment to the Grant Agreement, May 2019}

\begin{enumerate}
\item Implementation of a new task T6.11 by a subcontractor and extension of deliverable 6.10 
The WP6 group proposes an amendment to the grant agreement to carry out research and development (a new task + deliverable) for evaluating the central Math-in-the-Middle (MitM) framework and the trifunctional modules it builds on. They feel that this will make the MitM framework much stronger and attractive to potential VRE developers and users. Incidentally the new task would get WP6 closer to the computational foundation tasks of the original proposal, but at a much more concrete level. During the course of the project, it became evident that we should also test the practical coverage of the trifunctional modules, by transforming an existing, high-profile library of formalized mathematics (in contrast to computational mathematics) into OMDoc/MMT. A new task and deliverable will be created in WP6 and a new subcontract will be included to perform the action task.

\begin{enumerate}
\item New task 6.11 set out in Annex 1: Isabelle Case study
In this case study, we plan to test the practical coverage of the trifunctional modules, by transforming an existing, high-profile library of formalized mathematics (the Isabelle library together with its Archive of Formal Proofs) into OMDoc/MMT. Isabelle has about 5000 theories and 1 million theorems including types, theorem statements, algorithms, and proofs. The Isabelle library is a good case study because it will allow investigating the connection between computational mathematics (which is typically untyped and excludes axioms/theorems but is extremely efficient) with logically formalized mathematics (which is statically typed and includes formally stated theorems with verified proofs). The results of the import will be reported in D6.10.

\item subcontracting
The Isabelle case study will be conducted in collaboration with Makarius Wenzel, the main developer of Isabelle, who has spent the last 10 years building the technological prerequisites for such a case study. He is the only person who could collaborate with us on such a case study. We have already worked with him on the integration of the MMT and Isabelle systems in 2018, and we are now ready to carry out the task together.

\begin{enumerate}
\item the need of a subcontract explanation
However, since the start of OpenDreamKit, Dr. Wenzel has left academia and started his own company that specializes on Isabelle kernel development and subcontracts development efforts to research projects. There is currently no alternative way of conducting this case studies, since developing the necessary expertise in-house would take about 6-12 PM and all other Isabelle developers have long-running contracts. Therefore, the only way to carry out this task is to subcontract him. Because we did not foresee this subcontracting, we have to make the according change.

\item Changes to Annex 1(description of the action) and Annex 2 (estimated budget for the action) 

\begin{enumerate}
\item Changes to Annex 1
In Section 3.4.2, we add a paragraph at the end of FAU:
The justification for subcontracting is as follows. The Isabelle system is so complex that it is impossible for anybody but a few experts to implement the export. Even then it takes considerable effort, as the low-level data structures have to improved in order to even make the export feasible. Makarius Wenzel is the main developer of Isabelle and has developed an API to access the relevant data structures. He is the only candidate who can implement the export. He is an academic by training but currently self-employed. We will subcontract him (30,000 e) to write the export.

Section 4.2, we add a table for FAU:
Does the participant plan to subcontract certain tasks: Yes
See 3.4.2 for justification.

Item/ Changes to Annex 2 
The current estimate is that FAU will subcontract him 30 000 EUR. It has 10.000e left on personel costs and 5.000e on other direct costs at the end of the project. Therefore we request to repurpose those two amounts to subcontracting costs and we ask the coordinator to allocate an additional 15.000 e to FAU.
This could come from the 155.131.53 Jacobs University (the predecessor of FAU in OpenDreamKit) returned to the coordinator after Prof. Michael Kohlhase changed to FAU.
\end{enumerate}
\end{enumerate}

\item Extension and Deferral of Deliverable 6.10
As an accompanying measure we propose to extend Deliverable D6.10 to include the results of Task T6.11 and defer it from M42 to M48 so that it can be used as a project-end report on the outstanding FAU and WP6 activities. The technology for this deliverable exists; the proposed extension would allow us to extend the integrated search technology and integrate it better into the new MathHub front-end, which will also cover the Isabelle case study.
Note that D6.10 is the only remaining deliverable with involvement of FAU. Arguably, it should have been scheduled for M48 all along in order to serve as the final and overall FAU-related deliverable.
\end{enumerate}

\item Clarification of Annex 1 statement (two last paragraphs of section 3.4.1) related to the Covering of the travel costs for invited experts to a workshop

\begin{enumerate}
\item Covering of the travel costs for invited experts to a Workshop at European XFEL 
The beneficiary European XFEL would like to organize a dissemination workshop on JOOMMF in June 2019. For the workshop European XFEL would like to invite 4-6 experts who for example contributed to the development of JOOMMF. Since their participation is of great importance for the success of the workshop we would like to cover their accommodation and travel costs to the workshop. Since travel costs are normally not covered for dissemination workshops, we would like to ask for an exception in this case. Please let us know whether this would be possible.

In addition the beneficiary European XFEL would like to ask to cover the travel costs for Ryan Pepper to project meetings and workshops. Ryan Pepper works at the University of Southampton and has contributed to the project OpenDreamKit throughout the project period. When the PI Hans Fangohr moved to European XFEL, the European XFEL became a beneficiary to the project and the involvement of the University of Southampton was terminated. But the contribution of Ryan Pepper to the project OpenDreamKit continued. Therefore European XFEL took over to pay his travel costs to project meetings and conferences/workshops. Regarding the covering of the travel costs for Ryan Pepper, they will make sure that there is no double funding. They will get a declaration on the issue from him. 

A budget change is not necessary, as European XFEL got assigned cost for the organization of dissemination workshops and have enough funds left to cover the workshop from their budget.
Since the description of the resources at the section 3.4.1 is too general, to avoid a rejection of this kind of travel costs, a clarification of the two last paragraphs of section 3.4.1 is needed. 

\item Clarification of section 3.4.1 of the Annex 1
it is stated on page 35 (Part B) under section "3.4 Resources to be committed", "Guidelines for outreach costs": "We request funds for outreach activities such as workshops that facilitate community building, disseminate best practice and encourages sustained contributions of the community to the project and beyond the lifetime of the funding. For a oneweek workshop reaching out to the community, we cost these at about 400 EUR per participant to provide accommodation and catering. A workshop for 15 people will thus cost about 6000 EUR. Participants donate their time and will fund their own travel. The particular budgeted cost will depend on the local availability of accommodation and will thus vary from workshop to workshop."

We add the following text in Annex 1 on page 35 (Part B): “Participants donate their time and will fund their own travel. For experts and speakers which are especially invited by the workshop organizers to contribute to the workshop, their travel costs will be funded in addition to their  accommodation and catering.”
\end{enumerate}

\item 
%%% Local Variables:
%%% mode: latex
%%% TeX-master: "grantagreement"
%%% End:
