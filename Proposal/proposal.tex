\providecommand{\classoptions}{keys}
\documentclass[noworkareas,deliverables,\classoptions]{euproposal}       % for writing
%\documentclass[submit,noworkareas,deliverables]{euproposal}        % for submission
%\documentclass[submit,public,noworkareas,deliverables]{euproposal} % for public version

\usepackage[utf8]{inputenc}
%\usepackage{minitoc}

\usepackage{float}  % used to suppress floating of tables in Resources section.
\usetikzlibrary{calc,fit,positioning,shapes,arrows,snakes}

\addbibresource{kwarc.bib}
\addbibresource{bibliography.bib}
% temporary fix due to http://tex.stackexchange.com/questions/311426/bibliography-error-use-of-blxbblverbaddi-doesnt-match-its-definition-ve
\makeatletter\def\blx@maxline{77}\makeatother

\input{WApersons} % Some sections of the included files depend on this.
\input{preamble}
\usepackage{framed}

\begin{document}
\begin{proposal}[
  % These PM numbers (person months) are for the coordinator to help planning
  % Participants should not change these, but add PM numbers in the CVS in
  % the site descriptions at CVs/*.tex
  % TODO: Nicolas needs to update these numbers from the (requested ones)
  site=PS, %paris sud
  site=UB,   % CNRS (Bordeaux)
  site=JU,  % Jacobs University Bremen
  site=UJF, % Univ Josef Fourier Grenoble
  site=UK, % Kaiserslautern
  site=UO, % Oxford
  site=US, % Silesia
  site=USH, % Sheffield
  site=USO, % Southhampton
  site=SA, % St Andrews
  site=UV, % Versailles
  site=UW, % Warwick
  site=ZH, % Z"urich
  site=LL, % logilab
  site=SR, % Simula
  site=UG, % Gent
  site=FAU, % FAU Erlangen/Nuremberg
  botupPM, % we want to work via bottom up PM distribution,
  % alternative: (can be combined)
  % topdownPM, % the coordinator distributes PM as follows:
  % PSRM=48, %paris sud
  % LLRM=48, % logilab
  % UVRM=48, % Versailles
  % UJFRM=48, % Fourier
  % UBRM=48,   % CNRS (Bordeaux)
  % UORM=48, % Oxford
  % USHRM=48, % Sheffieldg
  % USORM=48, % Southhampton
  % SARM=48, % St Andrews
  % UWRM=48, % Warwick
  % JURM=48,  % Jacobs
  % UKRM=48, % Kaiserslautern
  % USRM=48, % Silesia
  % ZHRM=48, % Z"urich
  % SRRM=48, % Simula
    coordinator=thiery,
  coordinatorsite=PS,
  acronym={OpenDreamKit},
  acrolong={OpenDreamKit},
  proposalnumber={676541},
  title=Open Digital Research Environment Toolkit\\ for the Advancement of Mathematics,
  callname=Topic: e-Infrastructures for Virtual Research Environments (VRE),
  callid=EINFRA-9-2015,
  % TODO: consistency with provided template
  % CALL: H2020-EINFRA-2015-1
  % TOPIC: e-Infrastructures for Virtual Research Environments (VRE)
  % Instrument: e-Infrastructures
  keywords={pure mathematics, computer algebra, simulation,
    visualisation, component architecture, databases, 
reproducibility, Sage, IPython, Jupyter, LMFDB, MathHub},
  % computational mathematics,
  % GAP, Linbox, PARI, Sage, Singular, IPython, Jupyter, SageMathCloud, LMFDB, MathHub
  % Virtual research environments, MPIR, /GP
  % open source, free software, number theory, abstract algebra, notebooks
  instrument= Call: H2020-EINFRA-2015-1, %Call: H2020-EINFRA-2015-1, 3 Topic 9-2015
  challengeid = TODO,
  %challenge = {N/A},
  %objectiveid={N/A},
  %objective = TODO,
  %outcomeid = N/A,
  %outcome = N/A,
  coordinator=thiery,
  months=48,
  compactht]
\newcommand{\TheProject}{\pn}% \pn is defined automatically
\ifgrantagreement
\input{grantagreement-history}
\else
\input{abstract}
\fi
\ifsubmit\else\setcounter{tocdepth}{4}\fi
\tableofcontents

\TOWRITE{MK}{Larger table of participants}
\TOWRITE{MK}{Abstract in the first page?}
\TOWRITE{MK}{Centering}

\include{outline}

% ---------------------------------------------------------------------------
%  Section 1: Excellence
% ---------------------------------------------------------------------------

\section{Excellence}
\input{excellence.tex}

\TOWRITE{ALL}{Proofread 1.1 and 1.2 pass 2}

\subsection{Objectives}
\label{sect:objectives}
\input{objectives}
\clearpage

\draftpage
% ---------------------------------------------------------------------------
%  Section 1.2: Relation to the work programme
% ---------------------------------------------------------------------------
\input{relation_to_the_work_programme.tex}

\draftpage
% ---------------------------------------------------------------------------
%  Section 1.3: Concept and Approach
% ---------------------------------------------------------------------------
\input{concept.tex}

\draftpage
% ---------------------------------------------------------------------------
%  Section 1.4: Ambition
% ---------------------------------------------------------------------------
\input{ambition.tex}

\draftpage
% ---------------------------------------------------------------------------
%  Section 2: Impact
% ---------------------------------------------------------------------------
\input{impact.tex}

\clearpage

% ---------------------------------------------------------------------------
%  Section 3: Implementation
% ---------------------------------------------------------------------------

\section{Implementation}
\COMMENT{Typical granularity: 5-8 work packages with 3-5 tasks and one
  deliverable per task; 10 milestones}

\subsection{Work Plan --- Work packages, deliverables and milestones}
\label{sect:workplan}

\TOWRITE{ALL}{Proofread 3.1 work plan (except for the work packages themselves) pass 2}

\eucommentary{Please provide the following:\\
\begin{compactitem}
\item
brief presentation of the overall structure of the work plan;
\item
timing of the different work packages and their components (Gantt chart or similar);
\item
detailed work description, i.e.:
\begin{compactitem}
\item
a description of each work package (table 3.1a);
\item
a list of work packages (table 3.1b);
\item
a list of major deliverables (table 3.1c);
\end{compactitem}
\item
graphical presentation of the components showing how they inter-relate (Pert chart or similar).
\end{compactitem}
}

\subsubsection{Overall Structure of the Work Plan}\label{sec:workplan-structure}
\ifgrantagreement
The
\else
As shown in Figure~\ref{fig:wplist}, the
\fi
work plan is broken down into
seven work packages: \WPref{component-architecture} about components,
\WPref{UI} for user interfaces, \WPref{hpc} for parallelisation of the
components, \WPref{dksbases} for databases and finally
\WPref{social-aspects} for social aspects. This is complemented by the
the usual management and dissemination work packages
(\WPref{management}) and (\WPref{dissem}). The Gantt chart on
Page~\pageref{fig:gantt} illustrates the timeline for the various
tasks for these work packages%., including inter-task dependencies.

\ifgrantagreement\else
%\makeatletter\wp@total@RM{management}\makeatother
\wpfigstyle{\footnotesize\def\tabcolsep{3.5pt}}
%\wpfig[pages,type,start,end]
{\wpfig}
\fi
%\newpage
\subsubsection{How the Work Packages will Achieve the Project Objectives}
\label{sssec:how_the_work_packages_will_achieve}

% (Section~\ref{sect:objectives},page~\pageref{sect:objectives})

The following table recalls the objectives of \TheProject and lists
the work packages that contribute to achieving each of them.

\begin{center}
\begin{tabular}{|l|l|l|}\hline
\textbf{Objective} & \textbf{Purpose} & \textbf{WPs} \\\hline \hline
Objective 1
 & Develop and standardise math soft and data for VRE
 & \WPref{component-architecture},  \WPref{UI}, \WPref{hpc}, \WPref{dksbases} \\\hline
Objective 2
 & Develop core VRE components
 & \WPref{component-architecture}, \WPref{UI}, \WPref{hpc}, \WPref{dksbases} \\\hline
Objective 3
 & Bring together communities
 & \WPref{dissem}, \WPref{component-architecture} \\\hline
Objective 4
 & Update a range of softwares
 & \WPref{component-architecture}, \WPref{hpc} \\\hline
Objective 5
 & Foster a sustainable ecosystem
 & \WPref{component-architecture}, \WPref{UI}, \WPref{hpc}, \WPref{dksbases} \\\hline
Objective 6
 & Explore social aspects
 & \WPref{social-aspects} \\\hline
Objective 7
 & Identify and extend ontologies
 & \WPref{dksbases} \\\hline
Objective 8
 & Effectiveness of the VRE
 & \WPref{dissem}, \WPref{social-aspects} \\\hline
Objective 9
 & Effective dissemination
 & \WPref{dissem}, \WPref{social-aspects} \\\hline
\end{tabular}
\end{center}

\TOWRITE{ALL This next section is freshly rewritten to be more
  detailed. It doesn't show or explain dependencies between WPs or
  anything like that, which would be nice, but would take too
  long. Anyway please check}

\paragraph{Work Programme for Objective 1: }

\taskref{component-architecture}{interface-systems} (Interfaces
between Systems) directly addresses the core of objective 1, making
existing systems compatible with one another in mathematically sound
ways. Other tasks in \WPref{component-architecture} (component
architecture) support this, by making components more portable and
easier to deploy (\taskref{component-architecture}{mod-packaging}:
Modularisation and Packaging;
\taskref{component-architecture}{portability}). \taskref{component-architecture}{extract-smc}
will bring us the benefit of lessons learned and components built for
\SMC. \taskref{dksbases}{data-design} deals with the data-centric
aspects of the interfaces. Additionally elements of \WPref{UI} (user interface) and \WPref{hpc} (HPC)
will also contribute to the framework with user interface pluggability
and interfaces optimised for HPC.

\paragraph{Work Programme for Objective 2: }

We have identified a need for a number of new core components for
\TheProject and planned their construction at appropriate stages of
various workpackages. A new adapter infrastructure is part of
\taskref{component-architecture}{interface-systems}; new virtual
appliances will be built in
\taskref{component-architecture}{portability}; new components will be
extracted from \SMC in  \taskref{component-architecture}{extract-smc};
new documentation components will be developed in
\taskref{UI}{sage-sphinx} and \taskref{UI}{dynamic-inspect}; new
mathematical software will be developed in \taskref{hpc}{hpc-combi}
and new database tools in \taskref{dksbases}{data-memo} and \taskref{dksbases}{mws}.


\paragraph{Work Programme for Objective 3: }

Representatives of a number of communities have already come together
simply to prepare this proposal, and the whole project will work to
bring them together. Specifically developers of many systems  will be brought together to complete
work package~\WPref{component-architecture},
especially~\taskref{component-architecture}{interface-systems}.
Bringing broader communities together is the core purpose of
work package~\WPref{dissem}, which includes workshops, web sites,
demonstrator packages and outreach activities.

\paragraph{Work Programme for Objective 4: }

The concept of this project is centred on leveraging the communities
vast investment in existign open source software systems, and wherever
possible we will proceed by extending and updating existing software components.
In work package \WPref{component-architecture} we will address
portability (\taskref{component-architecture}{portability} and
modularity (\taskref{component-architecture}{extract-smc}) and also
adapt the components to use the new interfaces being designed in
\taskref{component-architecture}{interface-systems}. Work package
\WPref{hpc} is largely about updating software for performance, while
workpackage \WPref{UI} deals with adaptation of UI components and of
other systems to work with them.

\paragraph{Work Programme for Objective 5: }

A number of tasks relate to developing promoting and supporting
sustainable models for collaborative software development. On a
practical level \taskref{component-architecture}{workflow} will adress
processes and technologies, \taskref{dksbases}{data-memo} concerns
collaborative accumulation of data. On a personal level, much of
\WPref{dissem} deals with ensuring a wide and committed user/developer
community. Finally in~\taskref{social-aspects}{isocial-decisionmaking}
we will actually conduct research into the social mechanisms of
collaborative software development, and lessons from this research
will be embedded into the structures we leave behind.

\paragraph{Work Programme for Objective 6: }

Objective 6 is covered by a dedicated work package \WPref{social-aspects} on social aspects.
It ranges from analysis of the needs with~\taskref{social-aspects}{social-input} to
evaluation with~\taskref{social-aspects}{oommf-nb-evaluation}.

\paragraph{Work Programme for Objective 7: }

Objective 7 is addressed directly by \WPref{dksbases}, which deals with data
and its meaning.

\paragraph{Work Programme for Objective 8: }

Producing and evaluating systems that demonstrate our achievements is
a key feature of this project, and this work in embedded throughout
the project. The integration and publicisation of these demonstrators
is key to \WPref{dissem} (dissemination) especially later in the
project, while their formal evaluation is found in \WPref{social-aspects}.

\paragraph{Work Programme for Objective 9: }

Dissemination is the heart of~\WPref{dissem}.
Members of \TheProject will organise workshops within \taskref{dissem}{dissemination}
or \taskref{dissem}{project-intro} as well as less formal meetings
with interested groups. In addition, we will follow open software development
processes throughout the project, so that our work is immediately
available to any interested party. We will announce important
developments or releases through our own web pages and the
established channels of the component systems. Our scientific findings
will be published in the open scientific literature and announced at
scientific meetings and conferences in the usual way and reported in
annual project reports.


\subsubsection{Work Plan Timing: GANTT Chart showing Task Dependencies and Information
  Flows}

Since \TheProject consists mainly in improving independent tools and
integrating them into a VRE, its tasks are fairly independent from each
other, which is reflected by the GANTT chart in Figure~\ref{fig:gantt}

\gantttaskchart[draft,xscale=.33,yscale=.33,milestones]

\ifgrantagreement\else
\newpage
\subsubsection{Deliverables}\label{sec:deliverables}
\inputdelivs{9.3cm}
\fi

\newpage
\subsubsection{Milestones}\label{sec:milestones}
\input{milestones}

% ---------------------------------------------------------------------------
% Include Work package descriptions
% ---------------------------------------------------------------------------

\input{WorkPackages/WorkPackages}

\newpage
\subsection{Management Structure and Procedures}
\input{management_structure_and_procedures.tex}

\draftpage
\subsection{Consortium as a Whole}
\input{consortium.tex}
\draftpage

\subsection{Resources to be Committed}
\input{resources}

% ---------------------------------------------------------------------------
%  Section 4: Members of the Consortium
% ---------------------------------------------------------------------------

\newpage

\eucommentary{This section is not covered by the page limit.\\
The information provided here will be used to judge the operational capacity.}

\section{Members of the Consortium}

\TOWRITE{ALL}{Proofread 4. Members of the consortium pass 2}

\subsection{Participants}

\eucommentary{Please provide, for each participant, the following (if available):\\
\begin{compactitem}
\item
a description of the legal entity and its main tasks,
with an explanation of how its profile matches the tasks in the proposal;
\item
a curriculum vitae or description of the profile of the persons,
including their gender, who will be primarily responsible for carrying
out the proposed research and/or innovation activities;
%
this includes a description of the profile of the to-be-recruited personnel
\item
a list of up to 5 relevant publications, and/or products, services
(including widely-used datasets or software), or other achievements
relevant to the call content;
\item
a list of up to 5 relevant previous projects or activities, connected
to the subject of this proposal;
\item
a description of any significant infrastructure and/or any major items
of technical equipment, relevant to the proposed work;
\item
any other supporting documents specified in the work programme for this call.
\end{compactitem}}

\input{Participants/ParisSud.tex}
\clearpage
\input{Participants/Bordeaux.tex}
\clearpage
\input{Participants/Grenoble.tex}
\clearpage
\input{Participants/Kaiserslautern.tex}
\clearpage
\input{Participants/Oxford.tex}
\clearpage
\input{Participants/Sheffield.tex}
\clearpage
\input{Participants/Silesia.tex}
\clearpage
\input{Participants/Southampton.tex}
\clearpage
\input{Participants/StAndrews.tex}
\clearpage
\input{Participants/Bremen.tex}
\clearpage
\input{Participants/Versailles.tex}
\clearpage
\input{Participants/Warwick.tex}
\clearpage
\input{Participants/Zurich.tex}
\clearpage
\input{Participants/Logilab.tex}
\clearpage
\input{Participants/Simula.tex}
\clearpage
\input{Participants/Gent.tex}
\clearpage
\input{Participants/Erlangen.tex}
\clearpage
%\input{Participants/Washington.tex}

%\cite{science-project}

\subsection{Third Parties Involved in the Project (including use of third party resources)}
\label{section:ThirdParties}

\paragraph{CNRS}\ 

\eucommentary{Please complete, for each participant, the table
(see page 27 of "VRETemplate.PDF"),
or simply state "No third parties involved", if applicable.}

The University of Bordeaux will be involved as a Third Party Linked to CNRS.
Indeed, both the LaBRI and the IMB are Joint Research Units for which both the
University of Bordeaux and CNRS are supervisory authorities ; Karim Belabas and
Adrien Boussicault are staff of the University of Bordeaux and actively
participate in the project (see~\ref{desc:Bordeaux}).
The University of
Bordeaux was founded in the 15th century and nowadays the city hosts two
universities, dozens of schools and 100 research laboratories with partner
institutions such as CNRS, Inserm, INRA and INRIA. It is an important centre of
studies and research in France with approximately 50,000 students, 2,000 PhD
students and 5,000 researchers.

\smallskip

\bgroup
\def\arraystretch{1.5}  % 1 is the default
\noindent \begin{tabular}{|p{0.6\textwidth}|c|}
\hline
Does the participant plan to subcontract certain
tasks & No \\
\hline
\multicolumn{2}{|l|}{} \\
\hline
Does the participant envisage that part of its work
is performed by linked third parties & Yes \\
\hline
\multicolumn{2}{|l|}{\textit{Two participants of the project are staff of the University of Bordeaux: Karim Belabas and Adrien Boussicault (see above).}} \\
\hline
Does the participant envisage the use of
contributions in kind provided by
third parties & No \\
\hline
\multicolumn{2}{|l|}{} \\
\hline
\end{tabular}
\egroup

\bigskip

\paragraph{University of Silesia}\ 

\bgroup
\def\arraystretch{1.5}  % 1 is the default
\noindent \begin{tabular}{|p{0.6\textwidth}|c|}
\hline
Does the participant plan to subcontract certain
tasks & Yes \\
\hline
\multicolumn{2}{|l|}{See~\ref{resources.summary} for justification} \\
\hline
Does the participant envisage that part of its work
is performed by linked third parties & No \\
\hline
\multicolumn{2}{|l|}{} \\
\hline
Does the participant envisage the use of
contributions in kind provided by
third parties & No \\
\hline
\multicolumn{2}{|l|}{} \\
\hline
\end{tabular}
\egroup

\paragraph{Logilab}\ 

\bgroup
\def\arraystretch{1.5}  % 1 is the default
\noindent \begin{tabular}{|p{0.6\textwidth}|c|}
\hline
Does the participant plan to subcontract certain
tasks & Yes \\
\hline
\multicolumn{2}{|l|}{See~\ref{resources.summary} for justification} \\
\hline
Does the participant envisage that part of its work
is performed by linked third parties & No \\
\hline
\multicolumn{2}{|l|}{} \\
\hline
Does the participant envisage the use of
contributions in kind provided by
third parties & No \\
\hline
\multicolumn{2}{|l|}{} \\
\hline
\end{tabular}
\egroup

\paragraph{Other participants}\ 

There is no subcontracting costs for other participants.

%No third parties involved.

%\TODO{Or Seattle? See https://www.iprhelpdesk.eu/node/2549}

% ---------------------------------------------------------------------------
%  Section 5: Ethics and Security
% ---------------------------------------------------------------------------

\newpage

\section{Ethics and Security}

\eucommentary{This section is not covered by the page limit.}

\subsection{Ethics}

\eucommentary{
If you have entered any ethics issues in the ethical issue table in the administrative proposal forms, you must:\\
$\bullet$ submit an ethics self-assessment, which: \\
-- describes how the proposal meets the national legal and ethical requirements of the
country or countries where the tasks raising ethical issues are to be carried out;\\
-- explains in detail how you intend to address the issues in the ethical issues table, in
particular as regards:
research objectives (e.g. study of vulnerable populations, dual use, etc.),
research methodology (e.g. clinical trials, involvement of children and related
consent procedures, protection of any data collected, etc.),
the potential impact of the research (e.g. dual use issues, environmental damage,
stigmatisation of particular social groups, political or financial retaliation,
benefit-sharing, malevolent use , etc.)\\
$\bullet$ provide the documents that you need under national law (if you already have them), e.g.:\\
-- an ethics committee opinion;\\
-- the document notifying activities raising ethical issues or authorizing such activities\\
If these documents are not in English, you must also submit an English summary of them
(containing, if available, the conclusions of the committee or authority concerned).\\
If you plan to request these documents specifically for the project
you are proposing, your request must contain an explicit reference to the project title}

\subsection{Security}

Please indicate if your proposal will involve:

\begin{compactitem}
\item activities or results raising security issues: NO
\item 'EU-classified information' as background or results: NO
\end{compactitem}
\end{proposal}
\TOWRITE{ALL}{Search through final.pdf ('make final') and look for questions marks ?? and XX and YY and XYZ as place holders where people intended to later add a link, or where a link is broken.}
\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:

%  LocalWords:  sud logilab urich Simula thiery acrolong igital esearch nvironments pn wp
%  LocalWords:  athematics pnlong callname callid challengeid objectiveid outcomeid emph
%  LocalWords:  compactht newcommand tableofcontents Linbox IPython textbf eucommentary
%  LocalWords:  vre TOWRITE citability Cython Laboratoire Recherche Informatique devs WPs
%  LocalWords:  clearpage draftpage programme workplan subsubsection pdatacount wplist sc
%  LocalWords:  WPref dissem pageref newpage sssec hline ganttchart xscale makeatletter
%  LocalWords:  makeatother wpfigstyle footnotesize tabcolsep wpfig inputdelivs mgt smc
%  LocalWords:  mathsoftware mathdb mathknowledge jupyter silesia pythran Pythran ldots
%  LocalWords:  Simulagora stigmatisation compactenum planetmath.org Univ botupPM Gnuplot
%  LocalWords:  boxedminipage textwidth compactitem fangohr providecommand classoptions
%  LocalWords:  ifsubmit setcounter tocdepth neighbouring incentivesed Gowers analyse hpc
%  LocalWords:  incentivised Ebay taskref structdocs taskref minimising parallelisation
%  LocalWords:  dksbases decisionmaking oommf-nb-evaluation gantttaskchart yscale Belabas
%  LocalWords:  Boussicault endeavours github isocial-decisionmaking enlargethispage
